{"version":3,"sources":["/pages/login/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport {Cache, store} from 'ts/util/store';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport cfg from 'ts/app.cfg.ts';\r\nimport PopUp from 'ts/ui/Popup';\r\n\r\nopg.api({\r\n    GetCurrentUserInfoAndMenus: 'user/GetCurrentUserInfoAndMenus?type=1',\r\n});\r\n\r\nconst menuPack = Languages.package['menu'];\r\nconst lpg = Languages.package;\r\n\r\nconst menuDefine = {\r\n    NewsManagement: '../content/news/index.html',\r\n    NoticeManagement: '../content/notice/index.html',\r\n    SponsorManagement: '../content/sponsor/index.html',\r\n    CarouselManagement: '../content/carousel/index.html',\r\n    RoleOperation: '../roles/role/index.html',\r\n    RoleUserOperation: '../roles/roleUser/index.html',\r\n    RoleAuthorityManagment: '../roles/roleRights/index.html',\r\n    MessageManagement: '../content/message/index.html',\r\n    ActivityManagement: '../content/activity/index.html',\r\n    PhotoManagment: '../content/photo/index.html',\r\n    MediaManagment: '../content/media/index.html',\r\n    ExhibitionInfoManagment: '../content/exhibition/index.html',\r\n    DisableWordsSetting: '../system/forbiddenWords/index.html',\r\n    StageSetting: '../system/period/index.html',\r\n    TimeSetting: '../system/timeSlot/index.html',\r\n    SystemSetting: '../system/systemSetting/index.html',\r\n    PairingIntegralSetting: '../system/integralMatch/index.html',\r\n    //Wishlist: '../itb/wishlist/index.html',\r\n    Wishlist: '../itb/wishlist/view.html',\r\n    Schedule: '../itb/schedule/index.html',\r\n    MessageBox: '../itb/messageBox/index.html',\r\n    PhotoGallary: '../itb/gallery/index.html',\r\n    Exhibitors: '../itb/exhibitors/old_index.html',\r\n    Buyers: '../itb/buyers/old_index.html',\r\n    Events: '../itb/events/index.html',\r\n    Meetings:'../itb/events/meetings.html',\r\n    Press: '../itb/press/index.html',\r\n    News: '../itb/news/index.html',\r\n    ExhibitionInfo: '../itb/exhibitions/index.html',\r\n    Navigation: '../itb/navigation/index.html',\r\n    MyScore: '../itb/myScore/index.html',\r\n    InvitationLetterM: '../logistics/invitation/manage.html',\r\n    ServiceToRentM: '../logistics/serviceRental/manage.html',\r\n    ApplyForBoothActivityM: '../logistics/applicationForBoothActivity/manage.html',\r\n    MyBoothM: '../logistics/myBooth/manage.html',\r\n    MyTripM: '../logistics/myTrip/manage.html',\r\n    CateringToRentM: '../logistics/cateringRental/manage.html',\r\n    MyTrip: '../logistics/myTrip/trip.html',\r\n    MyBooth: '../logistics/myBooth/booth.html',\r\n    InvitationLetter: '../logistics/invitation/index.html',\r\n    ServiceToRent: '../logistics/serviceRental/index.html',\r\n    ApplyForBoothActivity: '../logistics/applicationForBoothActivity/index.html',\r\n    CateringToRent: '../logistics/cateringRental/index.html',\r\n\tNavigationManagement: '../content/navigation/index.html',\r\n    VirtualDashboard:'../itb/dashboard/index.html',\r\n    Bookhotel:'../logistics/myTrip/hotel.html',\r\n    FaciaBoard:'../logistics/faciaboard/index.html',\r\n    EmailBanner:'../logistics/emailbanner/index.html',\r\n    TranslationService:'../logistics/translation/index.html',\r\n    FaciaBoardM:'../logistics/faciaboard/manage.html',\r\n    TranslationServiceM:'../logistics/translation/manage.html',\r\n    DigitalPressBox:'../logistics/digitalpress/index.html',\r\n    DigitalPressBoxM:'../logistics/digitalpress/manage.html'\r\n};\r\n\r\nopg.api.GetCurrentUserInfoAndMenus(function (data) {\r\n    let permissions = data.menus;\r\n\r\n    store.set('RoleName', data.RoleName);\r\n    let curStage = data.stage[0].name.toLowerCase();\r\n    store.set('Stage', curStage);\r\n\r\n    console.dir(data);\r\n\r\n\r\n    let menu = {}, curMainMenuId;\r\n\r\n    for (let i = 0, l = permissions.length; i < l; i++) {\r\n        let mn = permissions[i];\r\n        menu['#' + mn.id] = mn;\r\n    }\r\n\r\n    let mainMenu = $('#mainMenu'),\r\n        subMenu = $('#subMenu'),\r\n        divTd = $('#td'),\r\n        mainFrame: JQuery = $('#mainFrame'),\r\n        mainFrameWindow: Window = (mainFrame[0] as HTMLIFrameElement).contentWindow as Window;\r\n\r\n    /*if (permissions.length > 6) {\r\n     mainMenu.addClass('small-menu');\r\n     }*/\r\n\r\n    $('#divPn1').click(function () {\r\n        let that = $(this);\r\n        if (that.hasClass('ellipse')) {\r\n            that.removeClass('ellipse');\r\n            subMenu.css('width', 200);\r\n            divTd.css('left', 200);\r\n        }\r\n        else {\r\n            that.addClass('ellipse');\r\n            subMenu.css('width', 0);\r\n            divTd.css('left', 0);\r\n        }\r\n    });\r\n\r\n    let mainMenuSelector = 'a:eq(0)', subMenuSelector = 'a:eq(0)';\r\n    if (location.hash.length > 1) {\r\n        let ph = location.hash.split('/');\r\n        mainMenuSelector = '#\\\\' + ph[0];\r\n        if (ph[1]) {\r\n            subMenuSelector = '#\\\\/' + ph[1];\r\n        }\r\n    }\r\n\r\n    subMenu.on('click', 'a', function () {\r\n        let sm = $(this);\r\n        sm.addClass('cur').siblings('.cur').removeClass('cur');\r\n        //mainFrame.attr('src', sm.attr('href') as string);\r\n        Cache.empty();\r\n        let p = sm.data('permission');\r\n        console.log(sm, p);\r\n        if (p) {\r\n            let pm = {}, pa = p.split(',');\r\n            pa.forEach(v => pm[v] = true);\r\n            store.set('permission', pm);\r\n            console.warn(sm.text() + ' has permission control!', p, pm);\r\n        }\r\n\r\n        mainFrameWindow.location.replace(sm.attr('href'));\r\n        location.hash = curMainMenuId + sm[0].id;\r\n\r\n\r\n        return false;\r\n    });\r\n\r\n    mainMenu.on('click', 'a', function () {\r\n        let cur = $(this), mnId = cur.attr('href');\r\n        curMainMenuId = mnId;\r\n        cur.addClass('cur').siblings('.cur').removeClass('cur');\r\n\r\n        subMenu.bindList({\r\n            template: '<a id=\"menu${id}\" href=\"${name:=url}\" target=\"mainFrame\" data-permission=\"${id:=g}\">${name:=t}</a>',\r\n            list: menu[mnId].childMenus,\r\n            itemRender: {\r\n                g: (v, i, row) => {\r\n                    let arr = [];\r\n                    if (row.childMenus && row.childMenus.length) {\r\n                        row.childMenus.forEach((v: any, i: number) => {\r\n                            arr.push(v['name']);\r\n                        });\r\n                    }\r\n                    return arr.join(',');\r\n                },\r\n                t: v => menuPack[v] || v,\r\n                url: n => {\r\n                    if (n.toLowerCase() == 'wishlist' && curStage == 'wishlist') {\r\n                        return '../itb/wishlist/index.html';\r\n                    }\r\n                    return menuDefine[n] || 'about:blank';\r\n                }\r\n            },\r\n        }).find(subMenuSelector).click();\r\n\r\n        if (subMenuSelector != 'a:eq(0)')\r\n            subMenuSelector = 'a:eq(0)';\r\n\r\n        setTimeout(function () {\r\n                $(\"#menu149\").toggle();\r\n                $(\"#menu155\").toggle();\r\n                $(\"#menu138\").toggle();\r\n                $(\"#menu150\").toggle();\r\n                $(\"#menu151\").toggle();\r\n                $(\"#menu152\").toggle();\r\n                $(\"#menu157\").toggle();\r\n                $(\"#menu158\").toggle();\r\n                $(\"#menu159\").toggle();\r\n                $(\"#menu164\").toggle();\r\n                $(\"#menu137\").toggle();\r\n        }, 1000);\r\n        //特殊菜单纠正样式\r\n        setTimeout(function () {\r\n            $(\"#menu153\").click(function(){\r\n                $(\"#menu149\").toggle(500);\r\n                $(\"#menu155\").toggle(500);\r\n                $(\"#menu137\").toggle(500);\r\n                return false;\r\n            });\r\n            $(\"#menu154\").click(function(){\r\n                $(\"#menu138\").toggle(500);\r\n                $(\"#menu150\").toggle(500);\r\n                $(\"#menu151\").toggle(500);\r\n                $(\"#menu152\").toggle(500);\r\n                $(\"#menu157\").toggle(500);\r\n                $(\"#menu158\").toggle(500);\r\n                $(\"#menu159\").toggle(500);\r\n                $(\"#menu164\").toggle(500);\r\n                return false;\r\n            });\r\n        }, 1000);\r\n    });\r\n\r\n\r\n    mainMenu.bindList({\r\n        template: '<a id=\"#${id}\" href=\"#${id}\">${name:=t}</a>',\r\n        list: permissions,\r\n        itemRender: {\r\n            t: v => menuPack[v] || v,\r\n        },\r\n    }).find(mainMenuSelector).click();\r\n\r\n\r\n    let aLogo = $('#aLogo');\r\n    aLogo.click(function () {\r\n        subMenu.find('.cur').eq(0).removeClass('cur');\r\n    });\r\n\r\n\r\n    if (permissions.length === 1) {\r\n        subMenu.find('.cur').eq(0).removeClass('cur');\r\n        mainFrame.attr('src', aLogo.attr('href'));\r\n    }\r\n\r\n\r\n    let wViewport = window.document.documentElement.clientWidth, wMenu = mainMenu.outerWidth();\r\n    console.log(wViewport - wMenu);\r\n\r\n    if (wViewport - wMenu < 0) {\r\n        mainMenu.addClass('nano-menu');\r\n    }\r\n    if (wViewport - wMenu < 150) {\r\n        mainMenu.addClass('mini-menu');\r\n    }\r\n    else if (wViewport - wMenu < 300) {\r\n        mainMenu.addClass('small-menu');\r\n    }\r\n\r\n    $(\"#welcomediv\").html(lpg.welcome + data.firstName+ \" \" + data.lastName);\r\n    setTimeout(function () {\r\n        $(\"#mainMenu a:first\").click();\r\n    },1000);\r\n});\r\n\r\n\r\n$('#liAbout').click(function () {\r\n    console.log(Languages);\r\n    let html = $(`<div style=\" font-size: 12px; color: #555; padding: 12px 50px;\">\r\n\t\t\t\t\t<label><input type=\"radio\" name=\"lng\" value=\"${Languages.names.cn}\" ${Languages.current === Languages.names.cn ? 'checked' : ''}> 中文</label>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<label><input type=\"radio\" name=\"lng\" value=\"${Languages.names.en}\" ${Languages.current === Languages.names.en ? 'checked' : ''}> English</label>\r\n\t\t\t\t</div>`);\r\n\r\n    opg.confirm(html, function () {\r\n        let selected = html.find(':radio:checked').val();\r\n        console.log(selected);\r\n        if (selected != Languages.current) {\r\n            store.set(Languages.configKeyName, selected);\r\n            location.reload(true);\r\n        }\r\n    }, {\r\n        title: Languages.package['language'],\r\n        width: 400,\r\n    });\r\n\r\n});\r\n\r\n\r\n$('#liLogOff').click(() => {\r\n    store.remove('Authorization');\r\n    window.location.href = cfg.loginPage;\r\n});\r\n\r\n\r\nhistory.pushState(null, null, document.URL);\r\nwindow.addEventListener('popstate', function () {\r\n    //debugger;\r\n    history.pushState(null, null, document.URL);\r\n    PopUp.closeLast();\r\n});\r\n\r\n\r\n$('#liFullScreen').click(evt => {\r\n    // Test for each of the supported versions of full screen APIs and call\r\n    // either requestFullscreen or cancelFullScreen (or exitFullScreen)\r\n    //  Structure:\r\n    //  Does the incoming target support requestFullscreen (or prefaced version)\r\n    //  if (there is a fullscreen element)\r\n    //      then cancel or exit\r\n    //  else request full screen mode\r\n\r\n    let divObj = evt.target as Node;  //  get the target element\r\n\r\n    if (divObj.requestFullscreen)\r\n        if (document.fullScreenElement) {\r\n            document.cancelFullScreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n    else if (divObj.webkitRequestFullscreen)\r\n        if (document.webkitFullscreenElement) {\r\n            document.webkitCancelFullScreen();\r\n        } else {\r\n            document.documentElement.webkitRequestFullscreen();\r\n        }\r\n    else if (divObj.msRequestFullscreen)\r\n        if (document.msFullscreenElement) {\r\n            document.msExitFullscreen();\r\n        } else {\r\n            document.body.msRequestFullscreen();\r\n        }\r\n    else if (divObj.mozRequestFullScreen)\r\n        if (document.mozFullScreenElement) {\r\n            document.mozCancelFullScreen();\r\n        } else {\r\n            document.documentElement.mozRequestFullScreen();\r\n        }\r\n    //  stop bubbling so we don't get bounce back\r\n    evt.stopPropagation();\r\n\r\n});"]}