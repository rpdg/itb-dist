{"version":3,"sources":["/pages/system/integralMatch/ViewWishList.ts"],"names":[],"mappings":"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","file":"ViewWishList.js","sourcesContent":["import {api} from \"/ts/util/api\";\r\nimport opg from \"/ts/opg\";\r\nimport Table from \"/ts/ui/Table\";\r\nimport PopUp from \"../../../ts/ui/Popup\";\r\nimport {format} from \"../../../ts/util/utils\";\r\n\r\napi({\r\n\tsearchBuyerWishListForBack: 'buyer/SearchBuyerWishListForBack',\r\n\tsearchExhibitionWishListForBack: 'exhibition/SearchExhibitionWishListForBack',\r\n\tgetBuyerChooseExhibitionWishListForBack: 'buyer/GetBuyerChooseExhibitionWishListForBack',\r\n\texhibitionChooseWishListResultForBack: 'exhibition/ExhibitionChooseWishListResultForBack',\r\n\texportBuyerWishList: 'buyer/ExportBuyerWishList',\r\n\texportExhibitionWishList: 'exhibition/ExportExhibitionWishList',\r\n    exportBuyerWishList2: 'buyer/ExportBuyerWishList2',\r\n    exportExhibitionWishList2: 'exhibition/ExportExhibitionWishList2',\r\n\tbuyerAutoSupplementWishList: 'buyer/AutoSupplementBuyerWishList',\r\n\texhibitionAutoSupplementWishList: 'exhibition/AutoSupplementExhibitionWishList',\r\n\tgetBuyerWishListForBackEnd: 'buyer/GetBuyerWishListForBackEnd',\r\n\tgetExhibitionWishListForBackEnd: 'exhibition/GetExhibitionWishListForBackEnd',\r\n\t'manualSupplementBuyerWishList!post': 'buyer/ManualSupplementBuyerWishList',\r\n\t'manualSupplementExhibitionWishList!post': 'exhibition/ManualSupplementExhibitionWishList'\r\n});\r\n\r\n// api.exportBuyerWishList.set('timeOut',600000);\r\n// api.exportExhibitionWishList.set('timeOut',600000);\r\n\r\n\r\nexport default class ViewWishList {\r\n\tconstructor(lng) {\r\n\r\n\r\n\t\twindow.exportWishList2=function () {\r\n            let params = {\r\n                'barcode': barCode.jq.val(),\r\n                'keyword': name.jq.val()\r\n            };\r\n            let downloadForm = $('#exportWishList');\r\n            if (!downloadForm.length) {\r\n                downloadForm = $(`<form id=\"exportWishList\" target=\"_blank\"><input type=\"hidden\" name=\"barcode\" value=\"\"><input type=\"hidden\" value=\"\" name=\"keyword\"></form>`);\r\n                downloadForm.appendTo($('body'));\r\n            }\r\n            downloadForm.attr('action', selType.jq.val() == 0\r\n                ? api.exportBuyerWishList2.toString()\r\n                : api.exportExhibitionWishList2.toString());\r\n            downloadForm.submit();\r\n        };\r\n\r\n        window.exportWishList = function () {\r\n\t\t\tlet params = {\r\n\t\t\t\t'barcode': barCode.jq.val(),\r\n\t\t\t\t'keyword': name.jq.val()\r\n\t\t\t};\r\n\t\t\tlet downloadForm = $('#exportWishList');\r\n\t\t\tif (!downloadForm.length) {\r\n\t\t\t\tdownloadForm = $(`<form id=\"exportWishList\" target=\"_blank\"><input type=\"hidden\" name=\"barcode\" value=\"\"><input type=\"hidden\" value=\"\" name=\"keyword\"></form>`);\r\n\t\t\t\tdownloadForm.appendTo($('body'));\r\n\t\t\t}\r\n\t\t\tdownloadForm.attr('action', selType.jq.val() == 0\r\n\t\t\t\t? api.exportBuyerWishList.toString()\r\n\t\t\t\t: api.exportExhibitionWishList.toString());\r\n\t\t\tdownloadForm.submit();\r\n\t\t};\r\n\r\n\r\n\r\n\r\n\r\n\t\topg.wrapPanel('#formWishlist', {\r\n\t\t\ttitle: ``,\r\n\t\t\tbtnSearchText: `${lng.search}`,\r\n\t\t\tbtnSearchClick: function () {\r\n\t\t\t\t//let param = $('#formWishlist').fieldsToJson();\r\n\t\t\t\tsetApiUrl();\r\n\t\t\t\ttb['_api'] = apiUri;\r\n\t\t\t\ttb.update({\r\n\t\t\t\t\t'barcode': barCode.jq.val(),\r\n\t\t\t\t\t'keyword': name.jq.val(),\r\n\t\t\t\t\t'sort': getDefaultSort()\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}).addToFoot(\r\n\t\t\t`<button class=\"btn-primary btn-small btn-export\" onclick=\"window.exportWishList();\">${lng.wishListExport}</button>`\r\n\t\t\t+ `<button class=\"btn-primary btn-small btn-export\" onclick=\"window.exportWishList2();\">${lng.wishListExport2}</button>`\r\n\t\t);\r\n\r\n\r\n\t\tlet barCode = opg('#barcode'),\r\n\t\t\tname = opg('#name');\r\n\t\tlet selType = opg('#type');\r\n\t\tlet apiUri: any;\r\n\r\n\t\tlet setApiUrl = function () {\r\n\t\t\tif (selType.jq.val() == 0) {\r\n\t\t\t\tapiUri = api.searchBuyerWishListForBack;\r\n\t\t\t} else if (selType.jq.val() == 1) {\r\n\t\t\t\tapiUri = api.searchExhibitionWishListForBack;\r\n\t\t\t}\r\n\t\t};\r\n\t\tsetApiUrl();\r\n\t\tlet ascSort: boolean = true;\r\n\t\tlet getDefaultSort = function () {\r\n\t\t\treturn ascSort ? 0 : 1;\r\n\t\t};\r\n\r\n\r\n\t\tlet tb: Table = opg('#tbWishlist').table({\r\n\t\t\tapi: apiUri,\r\n\t\t\tparam: {\r\n\t\t\t\t'barcode': barCode.jq.val(),\r\n\t\t\t\t'keyword': name.jq.val(),\r\n\t\t\t\t'sort': getDefaultSort()\r\n\t\t\t},\r\n\t\t\tcolumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: `${lng.barcode}`,\r\n\t\t\t\t\tsrc: 'barcode',\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t},\r\n                {\r\n                    text: `${lng.btype}`,\r\n                    src: 'type',\r\n                    width: 100,\r\n                },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: `${lng.name}`,\r\n\t\t\t\t\tsrc: 'name',\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t},\r\n                {\r\n                    text: `${lng.email}`,\r\n                    src: 'email',\r\n                    width: 100,\r\n                },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: `${lng.company}`,\r\n\t\t\t\t\tsrc: 'company',\r\n\t\t\t\t\twidth:100\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: `${lng.targetMM}`,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\trender: function (id, index, row) {\r\n\t\t\t\t\t\treturn `${row.max}/${row.min}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: `${lng.currency}`,\r\n\t\t\t\t\tsrc: 'selected',\r\n\t\t\t\t\twidth: 80\r\n\t\t\t\t},\r\n                {\r\n                    text: `${lng.mainexhibitorcode}`,\r\n                    src: 'mainexhibitorcode',\r\n                    width: 100\r\n                },\r\n                {\r\n                    text: `${lng.mainexhibitonname}`,\r\n                    src: 'mainexhibitonname',\r\n                    width: 100\r\n                },\r\n                {\r\n                    text: `${lng.assignsales}`,\r\n                    src: 'assignsales',\r\n                    width: 80\r\n                },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: lng.process,\r\n\t\t\t\t\tsrc: 'id',\r\n\t\t\t\t\twidth: 250,\r\n\t\t\t\t\trender: (id, index, row) => {\r\n\t\t\t\t\t\treturn `<button data-id=\"${row.barcode}\" data-index=\"${row[':index']}\" class=\"btn-mini btn-info btnDetail\">${lng.viewDetail}</button> \r\n\t\t\t\t\t\t\t<button data-id=\"${row.barcode}\" data-index=\"${row[':index']}\" class=\"btn-mini btn-danger btnAuto\">${lng.autoComplete}</button> \r\n\t\t\t\t\t\t\t<button data-id=\"${row.barcode}\" data-index=\"${row[':index']}\" class=\"btn-mini btn-success btnManu\">${lng.manuComplete}</button> `;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t});\r\n\r\n\r\n\t\ttb.thead.find('th').eq(6).addClass('th-asc').on('click', function () {\r\n\t\t\tif (ascSort) {\r\n\t\t\t\t$(this).removeClass('th-asc').addClass('th-desc');\r\n\t\t\t} else {\r\n\t\t\t\t$(this).removeClass('th-desc').addClass('th-asc');\r\n\t\t\t}\r\n\t\t\tascSort = !ascSort;\r\n\t\t\ttb.update({\r\n\t\t\t\t'sort': getDefaultSort()\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\ttb.tbody.on('click', '.btnDetail', function (e) {\r\n\t\t\tlet $tb = $('<table></table>');\r\n\r\n\t\t\tlet $divTb = $('<div style=\"height: 353px; overflow-x: hidden; overflow-y: auto;\"></div>').append($tb);\r\n\r\n\t\t\topg.popTop($divTb, {\r\n\t\t\t\ttitle: lng.viewDetail,\r\n\t\t\t\twidth: 500,\r\n\t\t\t\theight: 400\r\n\t\t\t});\r\n\r\n\r\n\t\t\tlet apiUriInfo: any;\r\n\t\t\tif (selType.jq.val() == 0) {\r\n\t\t\t\tapiUriInfo = api.getBuyerChooseExhibitionWishListForBack;\r\n\t\t\t} else if (selType.jq.val() == 1) {\r\n\t\t\t\tapiUriInfo = api.exhibitionChooseWishListResultForBack;\r\n\t\t\t}\r\n\r\n\t\t\tlet tb: Table = opg($tb).table({\r\n\t\t\t\tapi: apiUriInfo,\r\n\t\t\t\tparam: {\r\n\t\t\t\t\tbarcode: e.target.getAttribute('data-id')\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.barcode}`,\r\n\t\t\t\t\t\tsrc: 'barcode',\r\n\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.name}`,\r\n\t\t\t\t\t\tsrc: 'name',\r\n\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.company}`,\r\n\t\t\t\t\t\tsrc: 'company',\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\ttb.tbody.on('click', '.btnManu', function (e) {\r\n\t\t\tlet rowData = tb.data[e.target.getAttribute('data-index')];\r\n\t\t\tlet apiWishListUri: any;\r\n\t\t\tlet apiManualSupplementUri: any;\r\n\t\t\tif (selType.jq.val() == 0) {\r\n\t\t\t\tapiWishListUri = api.getBuyerWishListForBackEnd;\r\n\t\t\t\tapiManualSupplementUri = api.manualSupplementBuyerWishList;\r\n\t\t\t} else if (selType.jq.val() == 1) {\r\n\t\t\t\tapiWishListUri = api.getExhibitionWishListForBackEnd;\r\n\t\t\t\tapiManualSupplementUri = api.manualSupplementExhibitionWishList;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tlet $tb = $('<table></table>');\r\n\t\t\tlet $divTb = $('<div style=\"height: 353px; overflow-x: hidden; overflow-y: auto;\"></div>').append($tb);\r\n\r\n\t\t\tlet pop: PopUp = opg.popTop($divTb, {\r\n\t\t\t\ttitle: lng.manuComplete,\r\n\t\t\t\twidth: 500,\r\n\t\t\t\theight: 400,\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tok: {\r\n\t\t\t\t\t\ttext: lng.ok,\r\n\t\t\t\t\t\tclassName: 'btn-success',\r\n\t\t\t\t\t\tonClick: function () {\r\n\t\t\t\t\t\t\t//pop.close();\r\n\t\t\t\t\t\t\tapiManualSupplementUri({\r\n\t\t\t\t\t\t\t\tbarcode: rowData.barcode,\r\n\t\t\t\t\t\t\t\tbarcodes: tb1.getCheckedValue().join(\",\")\r\n\t\t\t\t\t\t\t}, data => {\r\n\t\t\t\t\t\t\t\ttb.update();\r\n\t\t\t\t\t\t\t\tpop.close();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcancel: lng.cancel,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet tb1: Table = opg($tb).table({\r\n\t\t\t\tapi: apiWishListUri,\r\n\t\t\t\tparam: {\r\n\t\t\t\t\tbarcode: e.target.getAttribute('data-id')\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsrc: 'barcode',\r\n\t\t\t\t\t\tcmd: 'checkAll',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.barcode}`,\r\n\t\t\t\t\t\tsrc: 'barcode',\r\n\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.company}`,\r\n\t\t\t\t\t\tsrc: 'company',\r\n\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: `${lng.country}`,\r\n\t\t\t\t\t\tsrc: 'countryname',\r\n\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\ttb.tbody.on('click', '.btnAuto', function (e) {\r\n\t\t\tlet rowData = tb.data[e.target.getAttribute('data-index')];\r\n\t\t\tlet apiAutoSupplementUri: any;\r\n\t\t\tif (selType.jq.val() == 0) {\r\n\t\t\t\tapiAutoSupplementUri = api.buyerAutoSupplementWishList;\r\n\t\t\t} else if (selType.jq.val() == 1) {\r\n\t\t\t\tapiAutoSupplementUri = api.exhibitionAutoSupplementWishList;\r\n\t\t\t}\r\n\t\t\tapiAutoSupplementUri({\r\n\t\t\t\tbarcode: rowData.barcode,\r\n\t\t\t\tmaxSelect: rowData.max,\r\n\t\t\t\tminSelect: rowData.min,\r\n\t\t\t\tselected: rowData.selected\r\n\t\t\t}, data => {\r\n\t\t\t\ttb.update();\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\r\n\t}\r\n}"]}