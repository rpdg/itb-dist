{"version":3,"sources":["/pages/system/systemSetting/filterBuyer.ts"],"names":[],"mappings":";;;;AAAA,+BAA0B;AAC1B,kDAAqD;AACrD,sCAAyC;AAIzC,aAAG,CAAC,GAAG,CAAC;IACP,OAAO,EAAE,yBAAyB;IAClC,MAAM,EAAE,kCAAkC;IAC1C,QAAQ,EAAE,yBAAyB;IACnC,SAAS,EAAE,oBAAoB;CAC/B,CAAC,CAAC;AAEH,IAAM,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;AAK9B,IAAI,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9B,aAAG,CAAC,SAAS,CAAC,QAAQ,EAAE;IACvB,KAAK,EAAE,IAAI;IACX,aAAa,EAAE,GAAG,CAAC,MAAM;IACzB,cAAc,EAAE;QACf,IAAI,KAAK,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;QACpC,uEAAuE;QACvE,qCAAqC;QACrC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAClB,CAAC;CACD,CAAC,CAAC;AAMH,aAAG,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC;IACnB,oDAAoD;IACvD,GAAG,EAAE,SAAG,CAAC,MAAM;IACf,KAAK,EAAC,IAAI;IACP,WAAW,EAAC;QACd,QAAQ,EAAC,8CAA8C;QACvD,UAAU,EAAC;YACV,IAAI,EAAC,UAAC,IAAI,EAAC,KAAK,EAAC,GAAG;gBACnB,OAAU,GAAG,CAAC,OAAO,SAAI,GAAG,CAAC,OAAS;YACvC,CAAC;SACD;KACD;CACD,CAAC,CAAC;AAIH,aAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC;IACxB,GAAG,EAAE,SAAG,CAAC,QAAQ;IACjB,IAAI,EAAG,GAAG,CAAC,OAAO,KAAK,IAAI,EAAC,CAAC,eAAe,EAAC,CAAC,eAAe;CAC7D,CAAC,CAAC;AAGH,aAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC;IACvB,GAAG,EAAE,SAAG,CAAC,OAAO;IAChB,IAAI,EAAG,GAAG,CAAC,OAAO,KAAK,IAAI,EAAC,CAAC,eAAe,EAAC,CAAC,eAAe;CAC7D,CAAC,CAAC;AAKH,IAAI,EAAE,GAAU,aAAG,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;IAChC,GAAG,EAAE,SAAG,CAAC,SAAS;IAClB,IAAI,EAAE,IAAI;IACV,UAAU,EAAE,KAAK;IACjB,OAAO,EAAE;QACR;YACC,GAAG,EAAE,SAAS;YACd,GAAG,EAAE,UAAU;SACf;QACD;YACC,IAAI,EAAE,KAAG,GAAG,CAAC,IAAM;YACnB,GAAG,EAAE,MAAM;YACX,KAAK,EAAE,GAAG;SACV;QACD;YACC,IAAI,EAAE,KAAG,GAAG,CAAC,OAAS;YACtB,GAAG,EAAE,SAAS;SACd;KACD;CACD,CAAC,CAAC;AAGH,MAAM,CAAC,WAAW,CAAC,GAAG;IACrB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC;IAClC,OAAO,EAAE,CAAC,eAAe,EAAE,CAAC;AAC7B,CAAC,CAAC","file":"filterBuyer.js","sourcesContent":["import opg from \"/ts/opg\";\r\nimport {Languages} from \"../../../ts/util/Languages\";\r\nimport {api} from \"../../../ts/util/api\";\r\nimport Table from \"../../../ts/ui/Table\";\r\n\r\n\r\nopg.api({\r\n\tproduct: 'product/GetProductGroup',\r\n\tregion: 'country/GetAllCountryExceptChina',\r\n\tsegments: 'product/GetProductTypes',\r\n\tgetBuyers: 'buyer/FilterBuyers',\r\n});\r\n\r\nconst lng = Languages.package;\r\n\r\n\r\n\r\n\r\nlet tbSearch = $('#tbSearch');\r\nopg.wrapPanel(tbSearch, {\r\n\ttitle: null,\r\n\tbtnSearchText: lng.search,\r\n\tbtnSearchClick: function () {\r\n\t\tlet param = tbSearch.fieldsToJson();\r\n\t\t// if(param.country === '' && param.group === '' && param.product==='')\r\n\t\t// \treturn opg.warn(lng.filterWarn) ;\r\n\t\ttb.update(param);\r\n\t},\r\n});\r\n\r\n\r\n\r\n\r\n\r\nopg('#region').listBox({\r\n    //text : lng.current === 'en'? 'name_en': 'name_cn',\r\n\tapi: api.region,\r\n\tvalue:'id',\r\n    bindOptions:{\r\n\t\ttemplate:'<option value=\"${id}\">${name:=some}</option>',\r\n\t\titemRender:{\r\n\t\t\tsome:(name,index,row)=>{\r\n\t\t\t\treturn `${row.name_en} ${row.name_cn}`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\nopg('#segments').listBox({\r\n\tapi: api.segments,\r\n\ttext : lng.current === 'en'? 'groupBuyer_en': 'groupBuyer_cn',\r\n});\r\n\r\n\r\nopg('#product').listBox({\r\n\tapi: api.product,\r\n\ttext : lng.current === 'en'? 'groupBuyer_en': 'groupBuyer_cn',\r\n});\r\n\r\n\r\n\r\n\r\nlet tb: Table = opg('#tb').table({\r\n\tapi: api.getBuyers,\r\n\tlazy: true ,\r\n\tpagination: false,\r\n\tcolumns: [\r\n\t\t{\r\n\t\t\tsrc: 'barcode',\r\n\t\t\tcmd: 'checkAll',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: `${lng.name}`,\r\n\t\t\tsrc: 'name',\r\n\t\t\twidth: 120,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: `${lng.barcode}`,\r\n\t\t\tsrc: 'barcode',\r\n\t\t},\r\n\t]\r\n});\r\n\r\n\r\nwindow['getTbData'] = function () {\r\n\tconsole.log(tb.getCheckedValue());\r\n\treturn tb.getCheckedValue();\r\n};"]}