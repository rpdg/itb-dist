{"version":3,"sources":["/pages/system/period/index.ts"],"names":[],"mappings":";;;;AAAA,oCAA4B;AAC5B,+CAA4C;AAC5C,uCAAoC;AACpC,sCAA6B;AAG7B,gBAAG,CAAC,GAAG,CAAC;IACP,OAAO,EAAE,sBAAsB;IAC/B,OAAO,EAAE,yBAAyB;IAClC,QAAQ,EAAE,uBAAuB;IACjC,QAAQ,EAAE,0BAA0B;IACpC,SAAS,EAAE,0BAA0B;IACrC,SAAS,EAAE,6BAA6B;CACxC,CAAC,CAAC;AAEH,IAAM,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;AAE9B,MAAM;AACN,IAAI,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9B,gBAAG,CAAC,GAAG,CAAC,OAAO,CAAC,cAAI,IAAI,eAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAA3B,CAA2B,CAAC,CAAC;AACrD,gBAAG,CAAC,SAAS,CAAC,QAAQ,EAAE;IACvB,KAAK,EAAE,KAAG,GAAG,CAAC,qBAAuB;IACrC,aAAa,EAAE,KAAG,GAAG,CAAC,IAAM;IAC5B,cAAc,EAAE;QACf,gBAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE;YAC3B,IAAI,KAAK,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAEpC,IAAI,KAAK,EAAE;gBACV,gBAAG,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE;oBACtB,aAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;oBAC9B,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,iBAAG,CAAC,SAAS,CAAC;gBAC1C,CAAC,CAAC,CAAC;aACH;QACF,CAAC,CAAC,CAAC;IAEJ,CAAC;CACD,CAAC,CAAC;AAEH,OAAO;AACP,gBAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,cAAI;IACpB,IAAI,aAAa,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC;QACnB,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAC;YACpB,aAAa,GAAG,CAAC,CAAC;YAClB,OAAO,IAAI,CAAC;SACZ;IAEF,CAAC,CAAC,CAAC;IACH,sBAAsB;IACtB,IAAI,OAAO,GAAG,gBAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC;QACtC,IAAI;QACJ,aAAa;KACb,CAAC,CAAC;IACH,gBAAG,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE;QACzB,KAAK,EAAE,KAAG,GAAG,CAAC,sBAAwB;QACtC,aAAa,EAAE,KAAG,GAAG,CAAC,IAAM;QAC5B,cAAc,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC5B,gBAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAC,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;QAC5C,CAAC;KACD,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,QAAQ;AACR,gBAAG,CAAC,GAAG,CAAC,SAAS,CAAC,cAAI;IACrB,IAAI,aAAa,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC;QACnB,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAC;YACpB,aAAa,GAAG,CAAC,CAAC;YAClB,OAAO,IAAI,CAAC;SACZ;IACF,CAAC,CAAC,CAAC;IACH,sBAAsB;IACtB,IAAI,QAAQ,GAAG,gBAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC;QACxC,IAAI;QACJ,aAAa;KACb,CAAC,CAAC;IACH,gBAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE;QAC1B,KAAK,EAAE,KAAG,GAAG,CAAC,uBAAyB;QACvC,aAAa,EAAE,KAAG,GAAG,CAAC,IAAM;QAC5B,cAAc,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC7B,gBAAG,CAAC,GAAG,CAAC,SAAS,CAAC,EAAC,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;QAC9C,CAAC;KACD,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"index.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport {store} from 'ts/util/store';\r\nimport cfg from 'ts/app.cfg';\r\n\r\n\r\nopg.api({\r\n\tgetInfo: 'system/GetSystemInfo',\r\n\tsetYear: 'system/UpSystemInfoYear',\r\n\tgetStage: 'system/GetSystemStage',\r\n\tsetStage: 'system/EnableSystemStage',\r\n\tgetLayout: 'system/GetSystemWebStage',\r\n\tsetLayout: 'system/EnableSystemWebStage',\r\n});\r\n\r\nconst lpg = Languages.package;\r\n\r\n//Year\r\nlet formYear = $('#formYear');\r\nopg.api.getInfo(data => formYear.jsonToFields(data));\r\nopg.wrapPanel(formYear, {\r\n\ttitle: `${lpg.exhibitionYearSetting}`,\r\n\tbtnSearchText: `${lpg.save}`,\r\n\tbtnSearchClick: function () {\r\n\t\topg.confirm(lpg.setYearTip, () => {\r\n\t\t\tlet param = formYear.fieldsToJson();\r\n\r\n\t\t\tif (param) {\r\n\t\t\t\topg.api.setYear(param, () => {\r\n\t\t\t\t\tstore.remove('Authorization');\r\n\t\t\t\t\ttop.window.location.href = cfg.loginPage;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n});\r\n\r\n//Stage\r\nopg.api.getStage(data => {\r\n\tlet selectedIndex = -1;\r\n\tdata.forEach((val, i) => {\r\n\t\tif (val.enable === 1){\r\n\t\t\tselectedIndex = i;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t});\r\n\t//alert(selectedIndex)\r\n\tlet tdStage = opg('#tdStage').radioBox({\r\n\t\tdata,\r\n\t\tselectedIndex,\r\n\t});\r\n\topg.wrapPanel(tdStage.jq, {\r\n\t\ttitle: `${lpg.exhibitionStageSetting}`,\r\n\t\tbtnSearchText: `${lpg.save}`,\r\n\t\tbtnSearchClick: function () {\r\n\t\t\tconsole.log(tdStage._items);\r\n\t\t\topg.api.setStage({id: tdStage.getValue()});\r\n\t\t},\r\n\t});\r\n});\r\n\r\n//Layout\r\nopg.api.getLayout(data => {\r\n\tlet selectedIndex = -1;\r\n\tdata.forEach((val, i) => {\r\n\t\tif (val.enable === 1){\r\n\t\t\tselectedIndex = i;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\t//alert(selectedIndex)\r\n\tlet tdLayout = opg('#tdLayout').radioBox({\r\n\t\tdata,\r\n\t\tselectedIndex,\r\n\t});\r\n\topg.wrapPanel(tdLayout.jq, {\r\n\t\ttitle: `${lpg.exhibitionLayoutSetting}`,\r\n\t\tbtnSearchText: `${lpg.save}`,\r\n\t\tbtnSearchClick: function () {\r\n\t\t\tconsole.log(tdLayout._items);\r\n\t\t\topg.api.setLayout({id: tdLayout.getValue()});\r\n\t\t},\r\n\t});\r\n});\r\n"]}