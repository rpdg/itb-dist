{"version":3,"sources":["/pages/system/forbiddenWords/edit.ts"],"names":[],"mappings":";;;;AAAA,oCAA4B;AAE5B,+CAA4C;AAI5C,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,qBAAS,CAAC,CAAC;AAErC,gBAAG,CAAC,GAAG,CAAC;IACP,UAAU,EAAE,6BAA6B;IACzC,aAAa,EAAE,4BAA4B;CAC3C,CAAC,CAAC;AAEH,IAAM,EAAE,GAAG,gBAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAG7B,IAAI,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC;AAE1B,IAAI,EAAE,EAAE;IACP,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,gBAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;CACpC;AAGD,MAAM,CAAC,QAAQ,CAAC,GAAG,UAAU,MAAa,EAAE,KAAY;IAGvD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;QAC7B,IAAI,EAAE;YACL,IAAI,EAAE,qBAAS,CAAC,OAAO,CAAC,cAAc;YACtC,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,IAAI;SACb;KACD,CAAC,CAAC;IAGH,IAAI,CAAC,KAAK;QACT,OAAO,IAAI,CAAC;IAEb,IAAI,MAAM,CAAC;IAEX,IAAI,EAAE,EAAE;QACP,MAAM,GAAG,QAAQ,CAAC;QAClB,IAAM,YAAY,GAAG,gBAAG,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC/C,gBAAG,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAM,YAAY,SAAI,EAAI,CAAC,CAAE;KACrD;SACI;QACJ,MAAM,GAAG,KAAK,CAAC;KACf;IAGD,OAAO,gBAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE;QAC7B,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,KAAK,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC","file":"edit.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport PopUp from 'ts/ui/Popup';\r\nimport {Cache} from 'ts/util/store';\r\n\r\nconsole.log('Languages:', Languages);\r\n\r\nopg.api({\r\n\t'add!post': 'disablewords/AddDisableWord',\r\n\t'update!post': 'disablewords/updsiableword',\r\n});\r\n\r\nconst id = opg.request['id'];\r\n\r\n\r\nlet form = $('#tbSearch');\r\n\r\nif (id) {\r\n\t$('#word').val(opg.request['word']);\r\n}\r\n\r\n\r\nwindow['doSave'] = function (popWin: PopUp, table: Table) {\r\n\r\n\r\n\tlet param = form.fieldsToJson({\r\n\t\tword: {\r\n\t\t\tname: Languages.package.forbiddenWords,\r\n\t\t\ttype: 'ns',\r\n\t\t\trequire: true,\r\n\t\t},\r\n\t});\r\n\r\n\r\n\tif (!param)\r\n\t\treturn true;\r\n\r\n\tlet action;\r\n\r\n\tif (id) {\r\n\t\taction = 'update';\r\n\t\tconst apiUpdateUrl = opg.api.update.toString();\r\n\t\topg.api.update.set('url' , `${apiUpdateUrl}/${id}`) ;\r\n\t}\r\n\telse {\r\n\t\taction = 'add';\r\n\t}\r\n\r\n\r\n\treturn opg.api[action](param, function () {\r\n\t\tpopWin.close();\r\n\t\ttable.update();\r\n\t});\r\n};"]}