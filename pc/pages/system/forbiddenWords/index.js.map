{"version":3,"sources":["/pages/system/forbiddenWords/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport PopUp from 'ts/ui/Popup';\r\nimport {Cache} from 'ts/util/store';\r\nimport {url} from \"../../../ts/util/utils\";\r\n\r\n\r\nopg.api({\r\n\tgetAll: 'disablewords/GetAllDisableWords',\r\n\tdeleteById: 'disablewords/DelDisableWordById',\r\n});\r\n\r\nconst lpg = Languages.package;\r\n\r\nconst moduleName = lpg.forbiddenWords;\r\n\r\nlet tb: Table = opg('#tb').table({\r\n\tapi: opg.api.getAll,\r\n\ttitleBar: {\r\n\t\ttitle: `${moduleName} ${lpg.list}`,\r\n\t\tbuttons: [{id: 'btnAdd', className: 'btn-create', html: `<i class=\"ico ico-create\"></i> ${lpg.add}`}],\r\n\t},\r\n\tcolumns: [\r\n\t\t{\r\n\t\t\ttext: `ID`, width: 120,\r\n\t\t\tsrc: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: lpg.forbiddenWords,\r\n\t\t\tsrc: 'word',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: `${lpg.process}`,\r\n\t\t\tsrc: 'id',\r\n\t\t\twidth: 200,\r\n\t\t\trender: function (id, i, row) {\r\n\t\t\t\t//console.log(arr);\r\n\t\t\t\treturn `\r\n\t\t\t\t\t\t<button class=\"btn-mini btn-info\" data-id=\"${id}\"  data-word=\"${row.word}\">${lpg.edit}</button> \r\n\t\t\t\t\t\t<button class=\"btn-mini btn-danger\" data-id=\"${id}\" data-word=\"${row.word}\">${lpg.del}</button>\r\n\t\t\t\t`;\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tpagination: false,\r\n});\r\n\r\nlet cache: Cache = Cache.getInstance();\r\n\r\nconst infoPage = __uri('/pages/system/forbiddenWords/edit.html') ;\r\n\r\n//Edit\r\ntb.tbody.on('click', '.btn-info', function () {\r\n\tlet btn = $(this), word = btn.data('word'), id = btn.data('id') ;\r\n\tlet src = url.setParam(infoPage, {id , word});\r\n\r\n\tlet pop: PopUp = top.opg.confirm(`<iframe src=\"${src}\" />`, function (i, ifr) {\r\n\t\treturn ifr.doSave(pop, tb);\r\n\t}, {\r\n\t\ttitle: `${lpg.edit}${moduleName}: ${word}`,\r\n\t\twidth: 500,\r\n\t\theight: 200,\r\n\t\tbuttons: {\r\n\t\t\tok: `${lpg.save}${moduleName}`,\r\n\t\t\tcancel: lpg.cancel,\r\n\t\t},\r\n\t});\r\n});\r\n\r\n//Add\r\n$('#btnAdd').click(function () {\r\n\r\n\tlet pop = top.opg.confirm(`<iframe src=\"${infoPage}\" />`, function (i, ifr) {\r\n\t\treturn ifr.doSave(pop, tb);\r\n\t}, {\r\n\t\ttitle: `${lpg.add}${moduleName}`,\r\n\t\twidth: 500,\r\n\t\theight: 200,\r\n\t\tbuttons: {\r\n\t\t\tok: `${lpg.save}${moduleName}`,\r\n\t\t\tcancel: lpg.cancel,\r\n\t\t},\r\n\t});\r\n});\r\n\r\n\r\n//del\r\ntb.tbody.on('click', '.btn-danger', function () {\r\n\tlet btn = $(this), word = btn.data('word'), id = btn.data('id');\r\n\r\n\topg.danger(`${lpg.del}${lpg.forbiddenWords} [<b>${word}</b>] ? `, function () {\r\n\t\topg.api.deleteById({id}, () => tb.update());\r\n\t}, {\r\n\t\ttitle: `${lpg.please}${lpg.confirm}`,\r\n\t});\r\n});\r\n"]}