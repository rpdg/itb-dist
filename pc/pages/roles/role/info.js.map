{"version":3,"sources":["/pages/roles/role/info.ts"],"names":[],"mappings":";;;;AAAA,oCAA4B;AAE5B,+CAA4C;AAE5C,uCAAoC;AAEpC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,qBAAS,CAAC,CAAC;AAErC,gBAAG,CAAC,GAAG,CAAC;IACP,OAAO,EAAE,qCAAqC;IAC9C,UAAU,EAAE,cAAc;IAC1B,aAAa,EAAE,aAAa;CAC5B,CAAC,CAAC;AAEH,IAAM,EAAE,GAAG,gBAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAG7B,IAAI,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC;AAE1B,EAAE,EAAC,EAAE,CAAC,EAAC;IACN,WAAW;IACX,IAAI,KAAK,GAAU,aAAK,CAAC,WAAW,EAAE,CAAC;IACvC,IAAI,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAC7B,CAAC;AAGD,MAAM,CAAC,QAAQ,CAAC,GAAG,UAAU,MAAa,EAAE,KAAY;IAGvD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;QAC7B,IAAI,EAAE;YACL,IAAI,EAAE,qBAAS,CAAC,OAAO,CAAC,QAAQ;YAChC,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,IAAI;SACb;KACD,CAAC,CAAC;IAGH,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;QACV,MAAM,CAAC,IAAI,CAAC;IAEb,IAAI,MAAM,CAAC;IAEX,EAAE,EAAC,EAAE,CAAC,EAAC;QACN,MAAM,GAAG,QAAQ,CAAC;QAClB,KAAK,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IACD,IAAI,EAAC;QACJ,MAAM,GAAG,KAAK,CAAC;IAChB,CAAC;IAGD,MAAM,CAAC,gBAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE;QAC7B,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,KAAK,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC","file":"info.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport PopUp from 'ts/ui/Popup';\r\nimport {Cache} from 'ts/util/store';\r\n\r\nconsole.log('Languages:', Languages);\r\n\r\nopg.api({\r\n\tgetInfo: 'role/GetRoleUsersById?roleId={角色Id}',\r\n\t'add!post': 'role/addrole',\r\n\t'update!post': 'role/uprole',\r\n});\r\n\r\nconst id = opg.request['id'];\r\n\r\n\r\nlet form = $('#tbSearch');\r\n\r\nif(id){\r\n\t//debugger;\r\n\tlet cache :Cache = Cache.getInstance();\r\n\tlet roleData = cache.get('cur_data');\r\n\tform.jsonToFields(roleData);\r\n}\r\n\r\n\r\nwindow['doSave'] = function (popWin: PopUp, table: Table) {\r\n\r\n\r\n\tlet param = form.fieldsToJson({\r\n\t\tname: {\r\n\t\t\tname: Languages.package.roleName,\r\n\t\t\ttype: 'ns',\r\n\t\t\trequire: true,\r\n\t\t},\r\n\t});\r\n\r\n\r\n\tif (!param)\r\n\t\treturn true;\r\n\r\n\tlet action;\r\n\r\n\tif(id){\r\n\t\taction = 'update';\r\n\t\tparam.id = id;\r\n\t}\r\n\telse{\r\n\t\taction = 'add';\r\n\t}\r\n\r\n\r\n\treturn opg.api[action](param, function () {\r\n\t\tpopWin.close();\r\n\t\ttable.update();\r\n\t});\r\n};"]}