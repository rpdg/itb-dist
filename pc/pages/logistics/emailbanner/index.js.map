{"version":3,"sources":["/pages/logistics/emailbanner/index.ts"],"names":[],"mappings":";;;;AAAA,oCAA4B;AAI5B,+CAA4C;AAS5C,gBAAG,CAAC,GAAG,CAAC;IACJ,wBAAwB,EAAE,6BAA6B;IACvD,wBAAwB,EAAC,6BAA6B;CACzD,CAAC,CAAC;AAEH,IAAM,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;AAE9B,IAAI,IAAI,GAAC,IAAI,CAAC;AACd,IAAI,OAAO,GAAC,EAAE,CAAC;AAEf,IAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAE,IAAI,IAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAE,SAAS,EACnF;IACI,IAAM,UAAU,GAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAChD,IAAI,GAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,EAAC,EAAE,CAAC,CAAC;CACxC;AAED,gBAAG,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAC,OAAO,EAAC,OAAO,EAAC,EAAC,cAAI;IAC5C,IAAG,IAAI,CAAC,MAAM,GAAC,CAAC,EAAE;QACd,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;KACvC;AACL,CAAC,CAAC,CAAC;AAEH,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC;IACtB,IAAI,KAAK,GAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,EAAE,CAAC;IACtC,KAAK,CAAC,QAAQ,GAAC,IAAI,CAAC;IACpB,KAAK,CAAC,OAAO,GAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACxC,gBAAG,CAAC,GAAG,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,IAAI;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;AAEP,CAAC,CAAC,CAAC;AAEH,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC;IACtB,IAAI,KAAK,GAAC,CAAC,CAAC,SAAS,CAAC,CAAC,YAAY,EAAE,CAAC;IACtC,KAAK,CAAC,QAAQ,GAAC,IAAI,CAAC;IACpB,KAAK,CAAC,OAAO,GAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACxC,gBAAG,CAAC,GAAG,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,IAAI;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","file":"index.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Panel from 'ts/ui/Panel.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Combo} from 'ts/ui/Combo';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport {store} from '../../../ts/util/store';\r\nimport PopUp from \"../../../ts/ui/Popup\";\r\nimport {url} from \"../../../ts/util/utils\";\r\nimport {request, string, dateTime, is, url, convert, format, array} from  'ts/util/utils';\r\nimport {api} from 'ts/util/api';\r\n\r\n\r\n\r\nopg.api({\r\n    'getBoothByBarcode!post': 'Operation/GetBoothByBarcode',\r\n    'createEmailBanner!post':'Operation/CreateEmailBanner'\r\n});\r\n\r\nconst lpg = Languages.package;\r\n\r\nlet clng='en';\r\nlet barcode='';\r\n\r\nif(localStorage.getItem(\"lngPkg\")!=null|| localStorage.getItem(\"lngPkg\")!=undefined)\r\n{\r\n    const currentlng=localStorage.getItem(\"lngPkg\");\r\n    clng=currentlng.replace(/[\"\"\"]/g,\"\");\r\n}\r\n\r\nopg.api.getBoothByBarcode({barcode:barcode},data=>{\r\n    if(data.length>0) {\r\n        $(\"#boothid\").val(data[0].booth_no);\r\n    }\r\n});\r\n\r\n$(\"#btnDownloadcn\").click(function(){\r\n    let param=$(\"#tbMain\").fieldsToJson();\r\n    param.language=\"cn\";\r\n    param.boothid=param.boothid.substr(0,3);\r\n    opg.api.createEmailBanner(param, function (data) {\r\n        window.open(data.filename,'_blank');\r\n    });\r\n\r\n});\r\n\r\n$(\"#btnDownloaden\").click(function(){\r\n    let param=$(\"#tbMain\").fieldsToJson();\r\n    param.language=\"en\";\r\n    param.boothid=param.boothid.substr(0,3);\r\n    opg.api.createEmailBanner(param, function (data) {\r\n        window.open(data.filename,'_blank');\r\n    });\r\n});\r\n"]}