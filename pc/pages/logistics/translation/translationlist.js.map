{"version":3,"sources":["/pages/logistics/translation/translationlist.ts"],"names":[],"mappings":"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","file":"translationlist.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Panel from 'ts/ui/Panel.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Combo} from 'ts/ui/Combo';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport {store} from '../../../ts/util/store';\r\nimport {request, string, dateTime, is, url, convert, format, array} from  'ts/util/utils';\r\n\r\nconsole.log('Languages:', Languages);\r\n\r\nopg.api({\r\n    'getAlltranslation!post': 'Operation/Getalltranslation',\r\n});\r\n\r\nconst lpg = Languages.package;\r\n\r\nlet clng='en';\r\n\r\nif(localStorage.getItem(\"lngPkg\")!=null|| localStorage.getItem(\"lngPkg\")!=undefined)\r\n{\r\n    const currentlng=localStorage.getItem(\"lngPkg\");\r\n    clng=currentlng.replace(/[\"\"\"]/g,\"\");\r\n}\r\n\r\n\r\nlet param = {};\r\nparam.reservetype=request[\"reservetype\"];\r\nparam.currentlng=clng;\r\n$(\"#totalnow\").html(lpg.totalsum+\"0\");\r\n\r\nopg.api.getAlltranslation(param , (data)=>{\r\n    for(var i=0;i<data.length;i++) {\r\n        var _len = $(\"#listtable tr\").length;\r\n            $(\"#listtable\").append(\"<tr align='center'>\"\r\n                +\"<td id='td\"+_len+\"'>\"+ data[i].itemno+\"</td>\"\r\n                +\"<td>\"+ data[i].itemname+\"</td>\"\r\n                +\"<td>\"+ data[i].description+\"</td>\"\r\n                +\"<td id='pr\"+_len+\"'>\"+ data[i].unitprice+\"</td>\"\r\n                +\"<td><input type='text' name='qty1\"+_len+\"' id='qty1\"+_len+\"' style='width:60px;' value='0' /></td>\"\r\n                +\"<td><input type='text' name='qty2\"+_len+\"' id='qty2\"+_len+\"' style='width:60px;' value='0' /></td>\"\r\n                +\"<td><input type='text' name='qty3\"+_len+\"' id='qty3\"+_len+\"' style='width:60px;' value='0' /></td>\"\r\n                +\"</tr>\");\r\n    }\r\n\r\n    $(\"#listtable input\").on('input',function(){\r\n        var total=0;\r\n        var len=$(\"#listtable tr\").length;\r\n        for(var i=0;i<len;i++)\r\n        {\r\n            total=total+checknum($(\"#pr\"+i).html()) * (checknum($(\"#qty1\"+i).val())+checknum($(\"#qty2\"+i).val()) + checknum($(\"#qty3\"+i).val()));\r\n        }\r\n        $(\"#totalnow\").html(lpg.totalsum+ total.toString());\r\n    });\r\n});\r\n\r\nfunction checknum(val) {\r\n    if(!isNaN(parseInt(val))){\r\n        return parseInt(val);\r\n    } else{\r\n        return 0;\r\n    }\r\n}\r\n\r\nwindow['getTranslationFill'] = function () {\r\n    param.itemno=\"\";\r\n    param.itemqty=\"\";\r\n    var len=$(\"#listtable tr\").length;\r\n\r\n    for(var i=1;i<len;i++)\r\n    {\r\n        param.itemno=param.itemno+ $(\"#td\"+i).html() + \"|\";\r\n        param.itemqty=param.itemqty+ $(\"#qty1\"+i).val() + \",\" +   $(\"#qty2\"+i).val()  + \",\" +   $(\"#qty3\"+i).val()   +\"|\";\r\n    }\r\n\r\n    return param;\r\n\r\n};\r\n\r\n"]}