{"version":3,"sources":["/pages/logistics/myTrip/manage.ts"],"names":[],"mappings":"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","file":"manage.js","sourcesContent":["import opg from 'ts/opg.ts';\r\nimport Panel from 'ts/ui/Panel.ts';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport {Combo} from 'ts/ui/Combo';\r\nimport {Languages} from 'ts/util/Languages';\r\nimport {store} from '../../../ts/util/store';\r\nimport PopUp from \"../../../ts/ui/Popup\";\r\nimport {url} from \"../../../ts/util/utils\";\r\nimport {request, string, dateTime, is, url, convert, format, array} from  'ts/util/utils';\r\n\r\nconsole.log('Languages:', Languages);\r\n\r\nopg.api({\r\n    'gettriplist!post': 'Operation/Gettriplist'\r\n});\r\n\r\n\r\n\r\nconst lpg = Languages.package;\r\n\r\nlet clng='en';\r\n\r\nif(localStorage.getItem(\"lngPkg\")!=null|| localStorage.getItem(\"lngPkg\")!=undefined)\r\n{\r\n    const currentlng=localStorage.getItem(\"lngPkg\");\r\n    clng=currentlng.replace(/[\"\"\"]/g,\"\");\r\n}\r\n\r\nlet panel: Panel = opg.wrapPanel('#tbSearch', {\r\n    title: `${lpg.searchService}`,\r\n    btnSearchText: `<i class=\"ico-find\"></i> ${lpg.search}`,\r\n    btnSearchClick: function () {\r\n        // let param=$(\"#tbSearch\").fieldsToJson();\r\n        // console.log(param);\r\n        refreshtable();\r\n    }\r\n});\r\n\r\n\r\njQuery.datetimepicker.setLocale(Languages.current);\r\n$('#takeofftime,#landingtime,#arrivetime,#leavetime').each(function (i, elem) {\r\n    $(elem).datetimepicker({\r\n        timepicker: true,\r\n        //closeOnDateSelect: true,\r\n        format: 'Y-m-d H:m:s',\r\n    });\r\n});\r\n\r\n\r\n\r\n// $(\"#btnSearch\").click(function(){\r\n//     refreshtable();\r\n// });\r\n\r\n\r\nfunction refreshtable() {\r\n    let xparam = $('#tbSearch').fieldsToJson();\r\n    xparam.pageIndex = 0;\r\n    xparam.currentlng=clng;\r\n    tb.update(xparam);\r\n\r\n}\r\n\r\n\r\n//const permission = store.get('permission');\r\nlet tbButtons = [];\r\ntbButtons.push({id: 'btnImportData', className: 'btn-warning', html: `${lpg.ImportData}`});\r\n\r\n\r\nlet tb: Table = opg('#tb').table({\r\n\tapi: opg.api.getservicelist,\r\n\tlazy: true,\r\n\ttitleBar: {\r\n\t\ttitle: `${lpg.list}`,\r\n\t\tbuttons: tbButtons,\r\n\t},\r\n\tcolumns: [\r\n\t\t{\r\n\t\t\ttext: `${lpg.flightcompany}`, width: 100,\r\n\t\t\tsrc: 'flightcompany',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: `${lpg.flightno}`, width: 100,\r\n\t\t\tsrc: 'flightno',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: `${lpg.takeofftime}`, width: 100,\r\n\t\t\tsrc: 'takeofftime',\r\n\t\t},\r\n        {\r\n            text: `${lpg.landingtime}`, width: 100,\r\n            src: 'landingtime',\r\n        },\r\n        {\r\n            text: `${lpg.username}`, width: 100,\r\n            src: 'username',\r\n        },\r\n        {\r\n            text: `${lpg.hotel}`, width: 100,\r\n            src: 'hotel',\r\n        },\r\n        {\r\n            text: `${lpg.arrivetime}`, width: 100,\r\n            src: 'arrivetime',\r\n        },\r\n        {\r\n            text: `${lpg.leavetime}`, width: 100,\r\n            src: 'leavetime',\r\n        }\r\n\t],\r\n\tpagination: true,\r\n});\r\n\r\n\r\n\r\n"]}