{"version":3,"sources":["/pages/itb/wishlist/barcode.ts"],"names":[],"mappings":";;;;AAAA,oCAAiC;AAEjC,gDAA6C;AAC7C,wCAAuC;AAIvC,SAAG,CAAC;IACA,8BAA8B,EAAC,yCAAyC;IACxE,yBAAyB,EAAC,+BAA+B;CAC5D,CAAC,CAAC;AAEH,IAAM,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;AAC9B,IAAI,IAAI,GAAG,IAAI,CAAC;AAEhB,IAAM,OAAO,GAAG,eAAO,CAAC,SAAS,CAAC,CAAC;AACnC,IAAM,IAAI,GAAC,eAAO,CAAC,MAAM,CAAC,CAAC;AAE3B,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,SAAS,EAAE;IACvF,IAAM,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAClD,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;CAC3C;AAED,IAAI,MAAM,GAAC,EAAE,EAAC,GAAG,GAAC,EAAE,CAAC;AACrB,IAAG,IAAI,IAAE,YAAY,EAAE;IACnB,MAAM,GAAC,8BAA8B,CAAC;IACtC,GAAG,GAAC,OAAO,CAAC;CACf;KACI,IAAG,IAAI,IAAE,OAAO,EAAE;IACnB,MAAM,GAAC,yBAAyB,CAAC;IACjC,GAAG,GAAC,YAAY,CAAC;CACpB;AAED,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,GAAC,GAAG,CAAC;AAElC,SAAG,CAAC,MAAM,CAAC,CAAC,EAAC,OAAO,EAAC,OAAO,EAAC,EAAC,cAAI;IAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAClC,IAAI,IAAI,GAAG,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAI,KAAK,GAAG,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAEvD,IAAI,IAAI,IAAI,EAAE,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,IAAI,IAAI,EAAE;YACjD,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;SAC/B;aAED;YACI,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAC,EAAE,CAAC;SAC3B;QACD,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,SAAS,IAAI,KAAK,IAAI,IAAI,EAAE;YACpD,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;SAC3B;aAED;YACI,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC;SACxB;KACJ;IAED,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,YAAY,EAAE,EAAC,IAAI,QAAE,GAAG,EAAE,qBAAS,CAAC,OAAO,EAAC,CAAC,CAAC;AAEzG,CAAC,CAAC,CAAC;AAGH,SAAS,yBAAyB,CAAC,OAAO;IACtC,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,IAAI,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,EAAE;QACjG,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAChC,OAAO,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KAC/C;;QAEG,OAAO,EAAE,CAAC;AAClB,CAAC","file":"barcode.js","sourcesContent":["import {api} from '/ts/util/api';\r\nimport {store} from '/ts/util/store';\r\nimport {Languages} from '/ts/util/Languages';\r\nimport {request} from \"/ts/util/utils\";\r\nimport opg from '/ts/opg';\r\n\r\n\r\napi({\r\n    'getExhibitionDetailByBarCode':'exhibition/GetExhibitionDetailByBarCode',\r\n    'getBuyerDetailByBarCode':'buyer/GetBuyerDetailByBarCode'\r\n});\r\n\r\nconst lng = Languages.package;\r\nlet clng = 'en';\r\n\r\nconst barcode = request['barcode'];\r\nconst type=request['type'];\r\n\r\nif (localStorage.getItem('lngPkg') != null || localStorage.getItem('lngPkg') != undefined) {\r\n    const currentlng = localStorage.getItem('lngPkg');\r\n    clng = currentlng.replace(/[\"\"\"]/g, '');\r\n}\r\n\r\nlet action='',act='';\r\nif(type==\"exhibition\") {\r\n    action='getExhibitionDetailByBarCode';\r\n    act='buyer';\r\n}\r\nelse if(type==\"buyer\") {\r\n    action='getBuyerDetailByBarCode';\r\n    act='exhibition';\r\n}\r\n\r\ntemplate.defaults.imports.act=act;\r\n\r\napi[action]({barcode:barcode},data => {\r\n\r\n    for (let i = 0; i < data.length; i++) {\r\n        let ppic = filterRegistrationLogoUrl(data[i].company_logo);\r\n        let ppic2 = filterRegistrationLogoUrl(data[i].logourl);\r\n\r\n        if (ppic != '' && ppic != undefined && ppic != null) {\r\n            data[i].company_logo = ppic;\r\n        }\r\n        else\r\n        {\r\n            data[i].company_logo=\"\";\r\n        }\r\n        if (ppic2 != '' && ppic2 != undefined && ppic2 != null) {\r\n            data[i].logourl = ppic2;\r\n        }\r\n        else\r\n        {\r\n            data[i].logourl = \"\";\r\n        }\r\n    }\r\n\r\n    document.getElementById('swiper').innerHTML = template('tpl-swiper', {data, lng: Languages.package});\r\n\r\n});\r\n\r\n\r\nfunction filterRegistrationLogoUrl(logourl) {\r\n    if (logourl != null && logourl != undefined && $.trim(logourl) != \"N/A\" && $.trim(logourl) != \"未提供\") {\r\n        let newurl = logourl.split('/');\r\n        return '/Logo/' + newurl[newurl.length - 1];\r\n    }\r\n    else\r\n        return \"\";\r\n}\r\n\r\n"]}