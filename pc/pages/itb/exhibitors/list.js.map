{"version":3,"sources":["/pages/itb/exhibitors/list.ts"],"names":[],"mappings":"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","file":"list.js","sourcesContent":["import {api} from \"ts/util/api\";\r\nimport {Languages} from 'ts/util/Languages';\r\nimport {array, request} from 'ts/util/utils';\r\n\r\napi({\r\n    product: 'product/GetProductGroup',\r\n    region: 'country/GetAllContinent',\r\n    segment: 'product/GetProductTypes',\r\n});\r\n\r\nlet by = request['by'];\r\nlet mytext= request['text'];\r\n\r\nif(mytext!=undefined && mytext!=\"\") {\r\n    $(\"#mytext\").html('> ' + mytext);\r\n}\r\ntemplate.defaults.imports.mytextobj=mytext;\r\n\r\nconst lpg = Languages.package;\r\nlet clng = 'en';\r\n\r\nif (localStorage.getItem(\"lngPkg\") != null || localStorage.getItem(\"lngPkg\") != undefined) {\r\n    const currentlng = localStorage.getItem(\"lngPkg\");\r\n    clng = currentlng.replace(/[\"\"\"]/g, \"\");\r\n\r\n\r\n}\r\n\r\n\r\nif (by === 'product') {\r\n\r\n    api.product(data => {\r\n        makeProduct(data);\r\n    })\r\n\r\n}\r\nelse if (by === 'region') {\r\n    api.region(data => {\r\n        makeRegion(data);\r\n    })\r\n}\r\nelse if (by === 'segment') {\r\n    api.segment(data => {\r\n        data.lng = Languages.current;\r\n        data.by = by;\r\n        data.request = request;\r\n        document.getElementById('ulBuyerList').innerHTML = template('tpl', data);\r\n    })\r\n}\r\n\r\nfunction makeProduct(arr: Array) {\r\n\r\n    let data = {};\r\n\r\n    let key = 'group_' + Languages.current;\r\n\r\n    for (let i = 0, l = arr.length, obj; i < l, obj = arr[i]; i++) {\r\n        let x = ~~obj[key].substring(0, obj[key].indexOf('.'));\r\n        if (!data[x]) {\r\n            data[x] = [];\r\n        }\r\n        obj.label = obj[key];\r\n        data[x].push(obj);\r\n    }\r\n\r\n    data.request = request;\r\n    document.getElementById('divRegionList').innerHTML = template('tpl-products', data);\r\n}\r\n\r\n\r\nfunction makeRegion(arr: Array) {\r\n    let alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    let list: any = {};\r\n\r\n    let data;\r\n    if (Languages.current === 'en') {\r\n        let fieldName = 'chau_en';\r\n        data = array.sort(arr, fieldName, function (a, b) {\r\n            let A = a[fieldName].toUpperCase(), B = b[fieldName].toUpperCase();\r\n            return A === B ? 0 : A > B ? 1 : -1;\r\n        },);\r\n        for (let i = 0, l = data.length; i < l; i++) {\r\n            let it = data[i], f = it[fieldName].substr(0, 1).toUpperCase();\r\n            if (!list[f]) {\r\n                if (alpha.indexOf(f) === -1)\r\n                    f = '#';\r\n                list[f] = [];\r\n            }\r\n\r\n            it.label = it[fieldName];\r\n            it.id = it.label;\r\n            list[f].push(it);\r\n        }\r\n    }\r\n    else {\r\n        let fieldName = 'chau_cn';\r\n        data = array.sort(arr, fieldName, function (a, b) {\r\n            let A = makePy(a[fieldName])[0].toUpperCase(), B = makePy(b[fieldName])[0].toUpperCase();\r\n            return A === B ? 0 : A > B ? 1 : -1;\r\n        },);\r\n        for (let i = 0, l = data.length; i < l; i++) {\r\n            let it = data[i], f = makePy(it[fieldName])[0].substr(0, 1).toUpperCase();\r\n\r\n            if (!list[f]) {\r\n                if (alpha.indexOf(f) === -1)\r\n                    f = '#';\r\n                list[f] = [];\r\n            }\r\n            it.label = it[fieldName];\r\n            it.id = it.label;\r\n            list[f].push(it);\r\n        }\r\n    }\r\n\r\n    list.request = request;\r\n    document.getElementById('divRegionList').innerHTML = template('tpl-regions', list);\r\n}\r\n\r\n\r\nfunction isGroup(pd) {\r\n    if(pd.indexOf(\".0\")>-1){\r\n        return 'true';\r\n    }\r\n    else\r\n        return 'false';\r\n}\r\ntemplate.defaults.imports.isGroup=isGroup;\r\n\r\ndocument.getElementById('btnSearch').addEventListener('click', function (evt) {\r\n    let val = (document.getElementById('iptKeyword') as HTMLInputElement).value;\r\n    if (val) {\r\n        location.href = './exh3.html?by=search'+ (request['from']?'&from='+request['from']: '') +  (request['info']?'&info='+request['info']: '') +'&keyword=' + val;\r\n    }\r\n}, false);\r\n\r\n$(\"#iptKeyword\").attr('placeholder',lpg.searchtips);\r\n"]}