{"version":3,"sources":["/pages/itb/events/list.ts"],"names":[],"mappings":";;;;AACA,oCAAiC;AACjC,gDAA6C;AAE7C,+BAA0B;AAC1B,wCAAmC;AAGnC,SAAG,CAAC;IACH,cAAc,EAAE,+BAA+B;CAE/C,CAAC,CAAC;AAEH,IAAM,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;AAE9B,IAAI,MAAM,GAAG,KAAK,CAAC,sBAAsB,CAAC,CAAC;AAG3C;IACC,cAAY,MAAa;QAExB,IAAI,EAAE,GAAU,aAAG,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;YAChC,GAAG,EAAE,aAAG,CAAC,GAAG,CAAC,OAAO;YACpB,KAAK,EAAE,EAAC,eAAe,EAAE,MAAM,EAAC;YAChC,QAAQ,EAAE;gBACT,KAAK,EAAE,KAAG,GAAG,CAAC,UAAY;aAC1B;YACD,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,GAAG,CAAC,KAAK;oBACf,GAAG,EAAE,OAAO,EAAC,KAAK,EAAC,MAAM;oBACzB,MAAM,EAAE,UAAC,KAAK,EAAE,CAAC,EAAE,GAAG,IAAK,sDAA0C,GAAG,CAAC,EAAE,wBAAiB,KAAK,uBAAe,GAAG,CAAC,YAAY,IAAE,MAAM,6CAAkC,GAAG,CAAC,YAAY,IAAE,MAAM,sCAA6B,KAAK,kBAAe,EAAxN,CAAwN;iBACnP;gBACD;oBACC,IAAI,EAAE,GAAG,CAAC,SAAS;oBACnB,GAAG,EAAE,MAAM;oBACX,KAAK,EAAE,GAAG;iBACV;gBACD;oBACC,IAAI,EAAE,GAAG,CAAC,gBAAgB;oBAC1B,GAAG,EAAE,kBAAkB;oBACvB,KAAK,EAAE,GAAG;oBACV,MAAM,EAAE,0BAAgB,IAAG,uBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAA9B,CAA8B;iBACzD;aACD;YACD,UAAU,EAAE,IAAI;SAChB,CAAC,CAAC;QAIH,IAAM,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACpC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,EAAG,GAAG,EAAG;YAC3B,IAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,EAAG,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAG,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAG,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACxG,aAAG,CAAC,MAAM,CAAC,mBAAgB,WAAG,CAAC,QAAQ,CAAC,GAAG,EAAG,EAAC,EAAE,MAAG,KAAK,SAAG,GAAG,OAAC,CAAC,iBAAa,EAAG;gBAChF,KAAK;gBACL,KAAK,EAAE,IAAI;gBACX,MAAM,EAAE,GAAG;aACX,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IAGJ,CAAC;IACF,WAAC;AAAD,CAAC","file":"list.js","sourcesContent":["\r\nimport {api} from '/ts/util/api';\r\nimport {Languages} from '/ts/util/Languages';\r\nimport Table from 'ts/ui/Table.ts';\r\nimport opg from \"/ts/opg\";\r\nimport {url} from \"/ts/util/utils\";\r\n\r\n\r\napi({\r\n\t'getList!POST': 'activity/QueryActivitysByType', // informationType [类型 0为会议，1为活动]\r\n\r\n});\r\n\r\nconst lng = Languages.package;\r\n\r\nlet imgSrc = __uri('./assets/363-213.png');\r\n\r\n\r\nexport default class List{\r\n\tconstructor(typeId:number){\r\n\r\n\t\tlet tb: Table = opg('#tb').table({\r\n\t\t\tapi: opg.api.getList,\r\n\t\t\tparam: {informationType: typeId},\r\n\t\t\ttitleBar: {\r\n\t\t\t\ttitle: `${lng.moduleName}`,\r\n\t\t\t},\r\n\t\t\tcolumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: lng.topic,\r\n\t\t\t\t\tsrc: 'title',align:'left',\r\n\t\t\t\t\trender: (title, i, row) => `<a  href=\"javascript:void(0)\" data-id=\"${row.id}\" data-title=\"${title}\" data-img=\"${row.coverpicture||imgSrc}\"><div class=\"thumb\"><img src=\"${row.coverpicture||imgSrc}\"></div><b class=\"nTitle\">${title}</b> <br></a>`\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: lng.publisher,\r\n\t\t\t\t\tsrc: 'from',\r\n\t\t\t\t\twidth: 150,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: lng.publishBeginDate,\r\n\t\t\t\t\tsrc: 'publishbegindate',\r\n\t\t\t\t\twidth: 150,\r\n\t\t\t\t\trender: publishBeginDate=> publishBeginDate.split(' ')[0]\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tpagination: true,\r\n\t\t});\r\n\r\n\r\n\r\n\t\tconst src = __uri('./subView.html');\r\n\t\ttb.tbody.on('click' , 'a' , function () {\r\n\t\t\tlet sender = $(this) , id = sender.data('id') , img = sender.data('img') , title = sender.data('title');\r\n\t\t\topg.popTop(`<iframe src=\"${url.setParam(src , {id , title , img})}\"></iframe>` , {\r\n\t\t\t\ttitle,\r\n\t\t\t\twidth: 1080,\r\n\t\t\t\theight: 600\r\n\t\t\t});\r\n\t\t\tconsole.log(src);\r\n\t\t});\r\n\r\n\r\n\t}\r\n}"]}