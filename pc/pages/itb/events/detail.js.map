{"version":3,"sources":["/pages/itb/events/detail.ts"],"names":[],"mappings":";;;;AAAA,mCAAgC;AAChC,+BAA0B;AAC1B,wCAAuC;AACvC,gDAA6C;AAE7C,SAAG,CAAC;IACH,MAAM,EAAE,qCAAqC;IAC7C,SAAS,EAAE,kCAAkC;CAC7C,CAAC,CAAC;AAEH,IAAM,EAAE,GAAG,eAAO,CAAC,IAAI,CAAC,CAAC;AAEzB,SAAG,CAAC,MAAM,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;IACpB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB,IAAI,IAAI,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAClC,IAAI,CAAC,GAAG;QACP,OAAO,aAAG,CAAC,KAAK,CAAC,qBAAS,CAAC,OAAO,CAAC,eAAe,EAAE,qBAAS,CAAC,OAAO,CAAC,GAAG,EAAE,qBAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAGlG,GAAG,CAAC,GAAG,GAAG,qBAAS,CAAC,OAAO,CAAC;IAC5B,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IAG9B,IAAG,IAAI,CAAC,YAAY,IAAE,EAAE,IAAI,IAAI,CAAC,YAAY,IAAE,SAAS,IAAI,IAAI,CAAC,YAAY,IAAE,IAAI,EAAE;QACjF,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;KACxC;;QAEG,GAAG,CAAC,YAAY,GAAG,KAAK,CAAC,sBAAsB,CAAC,CAAC;IAIxD,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAEjE,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;QAC7B,IAAI,KAAK,GAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAE9C,IAAG,KAAK,IAAE,GAAG,EAAE;YACX,SAAG,CAAC,SAAS,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;gBACpB,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;SACN;aACI,IAAG,KAAK,IAAE,GAAG,EAAE;YAChB,SAAG,CAAC,mBAAmB,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;gBAC9B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;SACN;IAER,CAAC,CAAC,CAAC;AAEJ,CAAC,CAAC,CAAC","file":"detail.js","sourcesContent":["import {api} from 'ts/util/api';\r\nimport opg from '/ts/opg';\r\nimport {request} from '/ts/util/utils';\r\nimport {Languages} from '/ts/util/Languages';\r\n\r\napi({\r\n\tgetSub: 'activity/GetActivityContentInfoById',\r\n\tsendApply: 'activity/ApplyingActivityContent'\r\n});\r\n\r\nconst id = request['id'];\r\n\r\napi.getSub({id}, data => {\r\n\tconsole.log(data);\r\n\tlet obj2=data.activity[0];\r\n\tlet obj = data.activityContent[0];\r\n\tif (!obj)\r\n\t\treturn opg.alert(Languages.package.notExistedError, Languages.package.tip, Languages.package.ok);\r\n\r\n\r\n\tobj.lng = Languages.package;\r\n\tobj.applyState = data.applyState;\r\n\r\n\r\n    if(obj2.coverpicture!=\"\" && obj2.coverpicture!=undefined && obj2.coverpicture!=null) {\r\n        obj.coverpicture = obj2.coverpicture;\r\n    }\r\n    else\r\n        obj.coverpicture = __uri('./assets/363-213.png');\r\n\r\n\r\n\r\n\tdocument.getElementById('main').innerHTML = template('tpl', obj);\r\n\r\n\t$('.btnSendApply').click(function (e) {\r\n        let scope=e.target.getAttribute(\"data-scope\");\r\n\r\n        if(scope==\"0\") {\r\n            api.sendApply({id}, data => {\r\n                location.reload(true);\r\n            });\r\n        }\r\n        else if(scope==\"1\") {\r\n            api.sendApplyNoApproval({id}, data => {\r\n                location.reload(true);\r\n            });\r\n        }\r\n\r\n\t});\r\n\r\n});\r\n"]}