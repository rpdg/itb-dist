{"version":3,"sources":["/ts/util/utils.ts"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["function hasOwnProperty(obj, prop) {\r\n\treturn !!obj && obj.hasOwnProperty(prop);\r\n}\r\n\r\nfunction setParamsObject(obj, param, value, castBoolean) {\r\n\tlet reg = /^(.+?)(\\[.*\\])$/, paramIsArray, match, allKeys, key, k;\r\n\tif (match = param.match(reg)) {\r\n\t\tkey = match[1];\r\n\t\tallKeys = match[2].replace(/^\\[|\\]$/g, '').split('][');\r\n\t\tfor (let i = 0; k = allKeys[i]; i++) {\r\n\t\t\tparamIsArray = !k || k.match(/^\\d+$/);\r\n\t\t\tif (!key && is.Array(obj)) key = obj.length;\r\n\t\t\tif (!hasOwnProperty(obj, key)) {\r\n\t\t\t\tobj[key] = paramIsArray ? [] : {};\r\n\t\t\t}\r\n\t\t\tobj = obj[key];\r\n\t\t\tkey = k;\r\n\t\t}\r\n\t\tif (!key && paramIsArray) key = obj.length.toString();\r\n\t\tsetParamsObject(obj, key, value, castBoolean);\r\n\t} else if (castBoolean && value === 'true') {\r\n\t\tobj[param] = true;\r\n\t} else if (castBoolean && value === 'false') {\r\n\t\tobj[param] = false;\r\n\t} else if (castBoolean && is.Number(value)) {\r\n\t\tobj[param] = parseFloat(value);\r\n\t} else {\r\n\t\tobj[param] = value;\r\n\t}\r\n}\r\n\r\nconst request = (function (str: string, castBoolean) {\r\n\tlet result = {}, split;\r\n\tstr = (str && str.toString) ? str.toString() : '';\r\n\tlet arr = str.replace(/^.*?\\?/, '').split('&'), p;\r\n\tfor (let i = 0; p = arr[i]; i++) {\r\n\t\tsplit = p.split('=');\r\n\t\tif (split.length !== 2) continue;\r\n\t\tsetParamsObject(result, split[0], decodeURIComponent(split[1]), castBoolean);\r\n\t}\r\n\treturn result;\r\n})(window.location.search, false);\r\n\r\n\r\nconst is = {\r\n\tArray: $.noop,\r\n\tRegExp: $.noop,\r\n\tDate: $.noop,\r\n\tNumber: $.noop,\r\n\tString: $.noop,\r\n\tObject: $.noop,\r\n\tHTMLDocument: $.noop,\r\n\tUsingIE: $.detectIE(),\r\n};\r\n\r\nlet isTypes = ['Array', 'RegExp', 'Date', 'Number', 'String', 'Object', 'HTMLDocument'];\r\nfor (let i = 0, c; c = isTypes[i++];) {\r\n\tis[c] = (function (type) {\r\n\t\treturn function (obj) {\r\n\t\t\treturn Object.prototype.toString.call(obj) == '[object ' + type + ']';\r\n\t\t};\r\n\t})(c);\r\n}\r\n\r\nfunction objectToQueryString(base, obj) {\r\n\tlet tmp;\r\n\t// If a custom toString exists bail here and use that instead\r\n\tif (is.Array(obj) || is.Object(obj)) {\r\n\t\ttmp = [];\r\n\t\titerateOverObject(obj, function (key, value) {\r\n\t\t\tif (base)\r\n\t\t\t\tkey = base + '[' + key + ']';\r\n\t\t\ttmp.push(objectToQueryString(key, value));\r\n\t\t});\r\n\t\treturn tmp.join('&');\r\n\t} else {\r\n\t\tif (!base) return '';\r\n\t\treturn sanitizeURIComponent(base) + '=' + (is.Date(obj) ? obj.getTime() : sanitizeURIComponent(obj));\r\n\t}\r\n}\r\n\r\nfunction sanitizeURIComponent(obj) {\r\n\t// undefined, null, and NaN are represented as a blank string,\r\n\t// while false and 0 are stringified. \"+\" is allowed in query string\r\n\treturn !obj && obj !== false && obj !== 0 ? '' : encodeURIComponent(obj).replace(/%20/g, '+').replace(/%5B/g, '[').replace(/%5D/g, ']');\r\n}\r\n\r\nfunction iterateOverObject(obj, fn) {\r\n\tlet key: string;\r\n\tfor (key in obj) {\r\n\t\tif (!hasOwnProperty(obj, key)) continue;\r\n\t\tif (fn.call(obj, key, obj[key], obj) === false) break;\r\n\t}\r\n}\r\n\r\n\r\nconst url = {\r\n\taddSearch: function (url: string, ...params): string {\r\n\r\n\t\tfor (let i = 1, len = arguments.length; i < len; i++) {\r\n\t\t\tlet p = arguments[i];\r\n\t\t\tif (p !== undefined && p !== null) {\r\n\t\t\t\tif (p.indexOf('?') === 0 || p.indexOf('&') === 0)\r\n\t\t\t\t\tp = p.substr(1);\r\n\r\n\t\t\t\tlet prefix = i > 1 ? '&' : (url.indexOf('?') > -1 ? '&' : '?');\r\n\r\n\t\t\t\turl += (prefix + p);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t},\r\n\t//opg.url.setParam('http://127.0.0.1:8080/page/home/' , {name:'Bob'}, 'user' );\r\n\t//opg.url.setParam('http://127.0.0.1:8080/page/home/' , {name:'Bob'} );\r\n\tsetParam: function (urlString: string, obj: object, namespace?: string): string {\r\n\t\treturn url.addSearch(urlString, objectToQueryString(namespace, obj));\r\n\t},\r\n\tgetParam: function (url: string, name: string): any {\r\n\t\tname = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n\t\tlet regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)'),\r\n\t\t\tresults = regex.exec(url.substr(url.indexOf('?')));\r\n\t\treturn results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n\t},\r\n};\r\n\r\n\r\nconst string = {\r\n\t_str_pad_repeater: function (s, len) {\r\n\t\tlet collect = '';\r\n\r\n\t\twhile (collect.length < len) {\r\n\t\t\tcollect += s;\r\n\t\t}\r\n\t\tcollect = collect.substr(0, len);\r\n\r\n\t\treturn collect;\r\n\t},\r\n\tpad: function (input: string, result_full_length: number, pad_string: string = '0', pad_type: 'STR_PAD_LEFT' | 'STR_PAD_BOTH' | 'STR_PAD_RIGHT' = 'STR_PAD_RIGHT') {\r\n\t\t//   example 1: str.pad('Kevin van Zonneveld', 30, '-=', 'STR_PAD_LEFT');\r\n\t\t//   returns 1: '-=-=-=-=-=-Kevin van Zonneveld'\r\n\t\t//   example 2: str.pad('Kevin van Zonneveld', 30, '-', 'STR_PAD_BOTH');\r\n\t\t//   returns 2: '------Kevin van Zonneveld-----'\r\n\r\n\t\tlet half = '',\r\n\t\t\tpad_to_go;\r\n\r\n\t\tinput += '';\r\n\t\tpad_string = pad_string !== undefined ? pad_string : ' ';\r\n\r\n\t\tif (pad_type !== 'STR_PAD_LEFT' && pad_type !== 'STR_PAD_RIGHT' && pad_type !== 'STR_PAD_BOTH') {\r\n\t\t\tpad_type = 'STR_PAD_RIGHT';\r\n\t\t}\r\n\t\tif ((pad_to_go = result_full_length - input.length) > 0) {\r\n\t\t\tif (pad_type === 'STR_PAD_LEFT') {\r\n\t\t\t\tinput = string._str_pad_repeater(pad_string, pad_to_go) + input;\r\n\t\t\t}\r\n\t\t\telse if (pad_type === 'STR_PAD_RIGHT') {\r\n\t\t\t\tinput = input + string._str_pad_repeater(pad_string, pad_to_go);\r\n\t\t\t}\r\n\t\t\telse if (pad_type === 'STR_PAD_BOTH') {\r\n\t\t\t\thalf = string._str_pad_repeater(pad_string, Math.ceil(pad_to_go / 2));\r\n\t\t\t\tinput = half + input + half;\r\n\t\t\t\tinput = input.substr(0, result_full_length);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t},\r\n\tpadLeft: function (oStr, result_full_length, pad_string: string = '0') {\r\n\t\treturn string.pad(oStr, result_full_length, pad_string, 'STR_PAD_LEFT');\r\n\t},\r\n\tpadRight: function (oStr, result_full_length, pad_string: string = '0') {\r\n\t\treturn string.pad(oStr, result_full_length, pad_string || 0, 'STR_PAD_RIGHT');\r\n\t},\r\n};\r\n\r\n\r\nconst dateTime = {\r\n\taddSeconds: function (d: Date, s: number) {\r\n\t\treturn new Date(d.getTime() + s * 1000);\r\n\t}\r\n\t,\r\n\taddDays: function (d: Date, s: number) {\r\n\t\treturn new Date(d.getTime() + s * 24 * 3600 * 1000);\r\n\t},\r\n\tdaySpan: function (dateFrom: Date, dateTo: Date) {\r\n\t\treturn Math.round((dateTo.valueOf() - dateFrom.valueOf()) / 86400000);\r\n\t},\r\n\tweekSpan: function (dateFrom: Date, dateTo: Date) {\r\n\t\tlet d = dateTime.daySpan(dateFrom, dateTo);\r\n\t\treturn Math.ceil((d + dateFrom.getDay()) / 7);\r\n\t},\r\n\r\n};\r\n\r\n\r\nconst convert = {\r\n\thashKeysToArray: function (obj: Object): Array {\r\n\t\tif (Object.keys) {\r\n\t\t\treturn Object.keys(obj);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet arr = [];\r\n\t\t\tfor (arr[arr.length] in obj) ;\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t},\r\n\thashToArray: (obj, converter?: Function): Array => {\r\n\t\tlet arr = [];\r\n\t\tfor (let key in obj) {\r\n\t\t\tlet val = obj[key];\r\n\t\t\tif (converter)\r\n\t\t\t\tval = converter(val, key);\r\n\r\n\t\t\tarr.push(val);\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\tarrayToHash: function (arr, key) {\r\n\t\tlet obj = {}, i = 0, l = arr.length;\r\n\t\tfor (; i < l; i++) {\r\n\t\t\tlet item = arr[i];\r\n\t\t\tif (!(item[key] in obj)) {\r\n\t\t\t\tobj[item[key]] = item;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\tstringToDate: function (str, format ?:string = 'yyyy-MM-dd HH:mm:ss') {\r\n\t\t//let format = formater || 'yyyy-MM-dd HH:mm:ss'; // default format\r\n\t\tlet parts = str.match(/(\\d+)/g),\r\n\t\t\ti = 0,\r\n\t\t\tfmt = {};\r\n\t\t// extract date-part indexes from the format\r\n\t\tformat.replace(/(yyyy|dd|MM|HH|hh|mm|ss)/g, function (part) {\r\n\t\t\tfmt[part] = i++;\r\n\t\t});\r\n\t\t//\r\n\t\tif (!fmt['HH'] && fmt['hh']) fmt['HH'] = fmt['hh'];\r\n\r\n\t\treturn new Date(parts[fmt['yyyy']] || 0, (parts[fmt['MM']] || 1) - 1, parts[fmt['dd']] || 0, parts[fmt['HH']] || 0, parts[fmt['mm']] || 0, parts[fmt['ss']] || 0);\r\n\t},\r\n\tjsonToDate: function (isoString) {\r\n\t\treturn new Date(Date.parse(isoString));\r\n\t},\r\n\r\n\t/**\r\n\t * Convert seconds to hh:mm:ss format.\r\n\t * @param {number} totalSeconds - the total seconds to convert to hh- mm-ss\r\n\t **/\r\n\tsecondsToTimecode: function (totalSeconds: number): string {\r\n\t\tlet hours = Math.floor(totalSeconds / 3600);\r\n\t\tlet minutes = Math.floor((totalSeconds - (hours * 3600)) / 60);\r\n\t\tlet seconds = totalSeconds - (hours * 3600) - (minutes * 60);\r\n\r\n\t\t// round seconds\r\n\t\tseconds = Math.round(seconds * 100) / 100;\r\n\r\n\t\tlet result = (hours < 10 ? '0' + hours : hours);\r\n\t\tresult += ':' + (minutes < 10 ? '0' + minutes : minutes);\r\n\t\tresult += ':' + (seconds < 10 ? '0' + seconds : seconds);\r\n\t\treturn result;\r\n\t},\r\n\r\n};\r\n\r\n\r\nconst format = {\r\n\tdate: function (date: Date, format: string = 'yyyy-MM-dd'): string {\r\n\t\tlet o = {\r\n\t\t\t'M+': date.getMonth() + 1, //month\r\n\t\t\t'd+': date.getDate(), //date\r\n\t\t\t'h+': (date.getHours() > 12 ? date.getHours() - 12 : date.getHours()), //hour 12\r\n\t\t\t'H+': date.getHours(), //hour 24\r\n\t\t\t'm+': date.getMinutes(), //minute\r\n\t\t\t's+': date.getSeconds(), //second\r\n\t\t\t'q+': Math.floor((date.getMonth() + 3) / 3), //quarter\r\n\t\t\t'S': date.getMilliseconds() //millisecond\r\n\t\t};\r\n\r\n\t\tif (/(y+)/.test(format))\r\n\t\t\tformat = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n\r\n\t\tfor (let k in o)\r\n\t\t\tif (new RegExp('(' + k + ')').test(format))\r\n\t\t\t\tformat = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\r\n\r\n\t\treturn format;\r\n\t},\r\n\ttoFixed: function (input) {\r\n\t\tlet n = Math.round(+input * 100);\r\n\t\treturn format.toNFixed(n * .01);\r\n\t},\r\n\ttoNFixed: function (input) {\r\n\t\tlet s = (+input).toString(), i = s.indexOf('.');\r\n\t\tif (i < 0) return s + '.00';\r\n\t\ts += '00';\r\n\t\treturn s.substr(0, i + 3);\r\n\t},\r\n\tnumber: function (number, decimals, dec_point?, thousands_sep?) {\r\n\t\t//   example 1: number_format(1234.56);\r\n\t\t//   returns 1: '1,235'\r\n\t\t//   example 2: number_format(1234.56, 2, ',', ' ');\r\n\t\t//   returns 2: '1 234,56'\r\n\t\t//   example 3: number_format(1234.5678, 2, '.', '');\r\n\t\t//   returns 3: '1234.57'\r\n\t\t//   example 4: number_format(67, 2, ',', '.');\r\n\t\t//   returns 4: '67,00'\r\n\t\t//   example 5: number_format(1000);\r\n\t\t//   returns 5: '1,000'\r\n\t\t//   example 6: number_format(67.311, 2);\r\n\t\t//   returns 6: '67.31'\r\n\t\t//   example 7: number_format(1000.55, 1);\r\n\t\t//   returns 7: '1,000.6'\r\n\t\t//   example 8: number_format(67000, 5, ',', '.');\r\n\t\t//   returns 8: '67.000,00000'\r\n\t\t//   example 9: number_format(0.9, 0);\r\n\t\t//   returns 9: '1'\r\n\t\t//  example 10: number_format('1.20', 2);\r\n\t\t//  returns 10: '1.20'\r\n\t\t//  example 11: number_format('1.20', 4);\r\n\t\t//  returns 11: '1.2000'\r\n\t\t//  example 12: number_format('1.2000', 3);\r\n\t\t//  returns 12: '1.200'\r\n\t\t//  example 13: number_format('1 000,50', 2, '.', ' ');\r\n\t\t//  returns 13: '100 050.00'\r\n\t\t//  example 14: number_format(1e-8, 8, '.', '');\r\n\t\t//  returns 14: '0.00000001'\r\n\r\n\t\tnumber = (number + '')\r\n\t\t\t.replace(/[^0-9+\\-Ee.]/g, '');\r\n\t\tlet n = !isFinite(+number) ? 0 : +number,\r\n\t\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\t\ts = '',\r\n\t\t\ttoFixedFix = function (n, prec) {\r\n\t\t\t\tlet k = Math.pow(10, prec);\r\n\t\t\t\treturn '' + (Math.round(n * k) / k)\r\n\t\t\t\t\t.toFixed(prec);\r\n\t\t\t};\r\n\t\t// Fix forar IE parseFloat(0.55).toFixed(0) = 0;\r\n\t\tlet s: Array = (prec ? toFixedFix(n, prec) : '' + Math.round(n))\r\n\t\t\t.split('.');\r\n\t\tif (s[0].length > 3) {\r\n\t\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t\t}\r\n\t\tif ((s[1] || '')\r\n\t\t\t\t.length < prec) {\r\n\t\t\ts[1] = s[1] || '';\r\n\t\t\ts[1] += new Array(prec - s[1].length + 1)\r\n\t\t\t\t.join('0');\r\n\t\t}\r\n\t\treturn s.join(dec);\r\n\t},\r\n\tfileSize: function (filesize) {\r\n\t\tif (filesize >= 1073741824) {\r\n\t\t\tfilesize = format.number(filesize / 1073741824, 2, '.', ',') + ' GB';\r\n\t\t}\r\n\t\telse if (filesize >= 1048576) {\r\n\t\t\tfilesize = format.number(filesize / 1048576, 2, '.', '') + ' MB';\r\n\t\t}\r\n\t\telse if (filesize >= 1024) {\r\n\t\t\tfilesize = format.number(filesize / 1024, 0) + ' KB';\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//filesize = '< 1KB';\r\n\t\t\tfilesize = format.number(filesize, 0) + ' bytes';\r\n\t\t}\r\n\t\treturn filesize;\r\n\t},\r\n\tjson: (function () {\r\n\t\tlet pattern = /\\${(\\w+[.]*\\w*)\\}(?!})/g;\r\n\r\n\t\treturn function (template: string, json: any) {\r\n\t\t\treturn template.replace(pattern, function (match, key, value) {\r\n\t\t\t\treturn json[key];\r\n\t\t\t});\r\n\t\t};\r\n\t})(),\r\n\ttimeLength: function (seconds: number = 0): string {\r\n\t\treturn string.padLeft(Math.floor(seconds / 3600), 2) + ':' + string.padLeft(Math.floor((seconds % 3600) / 60), 2) + ':' + string.padLeft(Math.floor(seconds % 60), 2);\r\n\t},\r\n};\r\n\r\n\r\nconst cleanValueObject = function (vo) {\r\n\tfor (let key in vo)\r\n\t\tif (key.indexOf(':') > -1) delete vo[key];\r\n\r\n\treturn vo;\r\n};\r\n\r\n\r\nconst array = {\r\n\tswap: (arr: Array, srcIndex: number, tarIndex: number): Array => {\r\n\t\tarr[srcIndex] = arr.splice(tarIndex, 1, arr[srcIndex])[0];\r\n\t\treturn arr;\r\n\t},\r\n\tunique: (arr: Array): Array => {\r\n\t\tlet tmpArr = [], hash = {};\r\n\t\tfor (let i = 0, l = arr.length; i < l; i++) {\r\n\t\t\tif (!hash[arr[i]]) {\r\n\t\t\t\thash[arr[i]] = true;\r\n\t\t\t\ttmpArr.push(arr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tmpArr;\r\n\t},\r\n\tcombine: (...needles: any[]): Array => {\r\n\t\tlet arr = [];\r\n\t\tfor (let i = 0, l = needles.length; i < l; i++) {\r\n\t\t\tlet a = needles[i], len = a.length;\r\n\t\t\tfor (let k = 0; k < len; k = k + 5000) {\r\n\t\t\t\tarr.push.apply(arr, a.slice(k, k + 5000));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\tsort: (arr: Array, propName: string, sortCompareFunction?: Function): Array => {\r\n\t\tif (sortCompareFunction && typeof sortCompareFunction === 'function')\r\n\t\t\treturn arr.sort(sortCompareFunction);\r\n\r\n\t\telse {\r\n\t\t\tlet dup = Array.prototype.slice.call(arr, 0);\r\n\t\t\t//let dup = arr.slice(0);\r\n\t\t\tif (!arguments.length) return dup.sort();\r\n\t\t\t//let args = Array.prototype.slice.call(arguments);\r\n\t\t\treturn dup.sort(\r\n\t\t\t\tfunction (a, b) {\r\n\t\t\t\t\tlet A = a[propName], nA = isNaN(A), B = b[propName], nB = isNaN(B);\r\n\t\t\t\t\t//两者皆非number\r\n\t\t\t\t\tif (nA && nB) {\r\n\t\t\t\t\t\tif (A === '') return -1;\r\n\t\t\t\t\t\tif (B === '') return 1;\r\n\t\t\t\t\t\treturn (A === B ? 0 : A > B ? 1 : -1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//a[prop] 非 number, b[prop] 是 number\r\n\t\t\t\t\telse if (nA) return -1;\r\n\t\t\t\t\t//a[prop] 是 number, b[prop] 非 number\r\n\t\t\t\t\telse if (nB) return 1;\r\n\t\t\t\t\t//a[prop], b[prop]  均是 number\r\n\t\t\t\t\treturn A === B ? 0 : A > B ? 1 : -1;\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\r\n};\r\n\r\n\r\nexport {is, url, request, string, dateTime, convert, format, cleanValueObject, array};"]}