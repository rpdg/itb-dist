{"version":3,"sources":["/ts/ui/Table.ts"],"names":[],"mappings":"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","file":"Table.js","sourcesContent":["import {AjaxDisplayObject, DisplayObject} from './DisplayOject';\r\nimport {Languages} from 'ts/util/Languages';\r\n\r\n\r\nlet jsonFormat = (function () {\r\n\tlet pattern = /\\${(\\w+[.]*\\w*)\\}(?!})/g;\r\n\r\n\treturn function (template: string, json: any) {\r\n\t\treturn template.replace(pattern, function (match, key, value) {\r\n\t\t\treturn json[key];\r\n\t\t});\r\n\t};\r\n})();\r\n\r\nfunction makeTemplate(sets) {\r\n\r\n\tlet tdTmp = [], render, name, i = 0, l = sets.columns ? sets.columns.length : 0;\r\n\tfor (let col; i < l , col = sets.columns[i]; i++) {\r\n\r\n\t\tif (typeof col.render === 'function') {\r\n\t\t\tname = col.src + '_render' + DisplayObject.guid();\r\n\t\t\trender = ':=' + name;\r\n\t\t\tsets.bindOptions.itemRender[name] = col.render;\r\n\t\t}\r\n\t\telse render = '';\r\n\r\n\t\tif (col.cmd) {\r\n\r\n\t\t\tif (col.cmd === 'checkAll') {\r\n\t\t\t\ttdTmp[i] = '<td class=\"text-center\"><input type=\"checkbox\" name=\"chk_' + i + '\" value=\"${' + col.src + render + '}\"></td>';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttdTmp[i] = '<td class=\"text-center\"><input type=\"radio\" name=\"chk_' + i + '\" value=\"${' + col.src + render + '}\"></td>';\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.cmd) {\r\n\t\t\t\tthis.cmd = col.cmd;\r\n\t\t\t\tthis.cmdColumnIndex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tlet classAlign = \"text-\" + (col.align ? col.align.toLowerCase() : \"center\");\r\n\r\n\t\t\ttdTmp[i] = '<td class=\"' + classAlign + '\">${' + col.src + render + '}</td>';\r\n\t\t}\r\n\t}\r\n\r\n\t//console.log('<tr>' + tdTmp.join('') + '</tr>');\r\n\tlet trSrc;\r\n\tif (sets.rows && sets.rows.render) {\r\n\t\ttrSrc = sets.rows.src || '___';\r\n\t\tsets.bindOptions.itemRender['__renderTr'] = (val, i, row, attr) => {\r\n\t\t\tlet cn = sets.rows.render(val, i, row, attr) || '';\r\n\t\t\tlet sn = (i % 2 ? 'odd' : 'even');\r\n\t\t\treturn sn + ' ' + cn;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\ttrSrc = '___';\r\n\t\tsets.bindOptions.itemRender['__renderTr'] = (val, i) => (i % 2 ? 'odd' : 'even');\r\n\t}\r\n\r\n\treturn '<tr class=\"${' + trSrc + ':=__renderTr}\">' + tdTmp.join('') + '</tr>';\r\n\r\n}\r\n\r\n\r\nfunction makeTbStructor(tb, sets) {\r\n\tlet i = 0, l = sets.columns ? sets.columns.length : 0, colCss = [], th = [];\r\n\tfor (let col; col = sets.columns[i]; i++) {\r\n\t\tif (col.cmd) {\r\n\t\t\tcol.width = col.width || 32;\r\n\r\n\t\t\tif (col.cmd === 'checkAll')\r\n\t\t\t\tcol.text = '<input type=\"checkbox\" name=\"' + col.src + '\" value=\"chk_' + i + '\">';\r\n\t\t\telse\r\n\t\t\t\tcol.text = '<input type=\"hidden\" name=\"' + col.src + '\" value=\"chk_' + i + '\">';\r\n\t\t}\r\n\r\n\t\tcolCss[i] = \"width:\" + (col.width ? col.width + \"px;\" : \"auto; \");\r\n\t\tth[i] = '<th style=\"' + colCss[i] + '\">' + (col.text || 'column_' + i) + '</th>';\r\n\t}\r\n\tlet thead = '<thead><tr>' + th.join('') + '</tr></thead>';\r\n\r\n\r\n\tif (sets.fixFooter) {\r\n\t\tlet tfoot = (sets.pagination) ? '<div class=\"gridPaginationFooter\"></div>' : '';\r\n\t\ttb.prepend(thead + '<tbody id=\"' + tb[0].id + '_tbody\"></tbody>').after(tfoot);\r\n\t\tlet $by = $(document.body), $win = $(window);\r\n\r\n\r\n\t\tfunction positionFooter() {\r\n\t\t\tlet $tf = $('.gridPaginationFooter');\r\n\r\n\t\t\tlet wh = $win.height();\r\n\t\t\tlet dh = $tf.offset().top + $tf.outerHeight() - wh ;\r\n\t\t\tlet dw = tb.width() ;\r\n\r\n\t\t\tif($win.scrollTop() > dh) {\r\n\t\t\t\t$tf.css({position: \"fixed\", bottom: 0 , width: dw+'px'});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$tf.css({position: \"static\"});\r\n\t\t\t}\r\n\t\t\t//console.log(dh , wh , $by.height() , $win.height() , $win.scrollTop() , $tf , $tf.offset().top , $tf.outerHeight())\r\n\t\t}\r\n\r\n\t\t$win.scroll(positionFooter).resize(positionFooter);\r\n\t}\r\n\telse {\r\n\t\tlet tfoot = (sets.pagination) ? '<tfoot><tr><td colspan=\"' + (l || '1') + '\"></td></tr></tfoot>' : '';\r\n\t\ttb.prepend(thead + '<tbody id=\"' + tb[0].id + '_tbody\"></tbody>' + tfoot);\r\n\t}\r\n\r\n}\r\n\r\nfunction setupTitleBar(tb, sets) {\r\n\tlet html = `<div class=\"grid-title-bar\">\r\n\t\t${sets.title}\r\n\t</div>`, bar = $(html);\r\n\r\n\tlet btns = ``;\r\n\tif (sets.buttons && sets.buttons.length) {\r\n\t\tfor (let i = 0, l = sets.buttons.length; i < l; i++) {\r\n\t\t\tlet btn = sets.buttons[i];\r\n\t\t\tbtns += `<button id=\"${btn.id}\" class=\"${btn.className}\">${btn.html}</button>`;\r\n\t\t}\r\n\r\n\t\tbar.append(btns);\r\n\t}\r\n\r\n\ttb.before(bar);\r\n}\r\n\r\n\r\nclass Table extends AjaxDisplayObject {\r\n\r\n\ttable: JQuery;\r\n\tthead: JQuery;\r\n\ttbody: JQuery;\r\n\ttfoot?: JQuery;\r\n\ttPager?: JQuery;\r\n\tpageCounter?: JQuery;\r\n\tiptPageGo?: JQuery;\r\n\r\n\tcols: number;\r\n\r\n\tresizable?: boolean;\r\n\r\n\tcmd?: 'checkOne' | 'checkAll';\r\n\tcmdColumnIndex?: number;\r\n\tcmdCheckAll?: JQuery;\r\n\tcmdCheckOne?: JQuery;\r\n\r\n\tpageTemplate?: string;\r\n\tpagination?: Pagination;\r\n\r\n\r\n\tfetching: boolean;\r\n\r\n\tprivate pageCount: number;\r\n\tprivate fixFooter: boolean;\r\n\r\n\tconstructor(jq: JQuery, cfg: any) {\r\n\r\n\t\tcfg = $.extend({\r\n\t\t\tbindOptions: {\r\n\t\t\t\titemRender: {}\r\n\t\t\t},\r\n\t\t\tresizable: true\r\n\t\t}, cfg);\r\n\r\n\r\n\t\tsuper(jq, cfg);\r\n\r\n\t}\r\n\r\n\tinit(jq: JQuery, cfg: any) {\r\n\r\n\t\tsuper.init(jq, cfg);\r\n\r\n\t\tlet isTable = jq[0].tagName === 'TABLE';\r\n\r\n\t\tif (isTable) {\r\n\t\t\tjq.addClass(\"grid\");\r\n\t\t\tthis.table = jq;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.table = $('<table id=\"' + jq[0].id + '_table\" class=\"grid\"></table>');\r\n\t\t}\r\n\r\n\r\n\t\tthis.fetching = false;\r\n\t\tthis.resizable = cfg.resizable;\r\n\r\n\t\tthis._bindOption.template = makeTemplate.call(this, cfg);\r\n\r\n\r\n\t\tmakeTbStructor(this.table, cfg);\r\n\r\n\t\tif (cfg.titleBar) setupTitleBar(this.table, cfg.titleBar);\r\n\r\n\r\n\t\tif (!isTable) jq.append(this.table);\r\n\r\n\t\tthis.thead = this.table.find(\"thead\");\r\n\t\tthis.cols = cfg.columns.length;\r\n\t\tthis.tbody = this.table.find(\"tbody\");\r\n\t\tthis.container = this.tbody;\r\n\r\n\r\n\t\tthis.tbody.on('click', 'tr', (evt) => {\r\n\t\t\t//log($(evt.currentTarget).parents(\"tr\")[0].rowIndex);\r\n\t\t\tthis.selectHandler(evt);\r\n\t\t});\r\n\r\n\r\n\t\tif (this.resizable) {\r\n\t\t\tthis.table.resizableColumns({//refreshHeaders\r\n\t\t\t\tminWidth: 1\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tif (cfg.pagination) {\r\n\r\n\t\t\tthis.fixFooter = !!(cfg.fixFooter);\r\n\r\n\t\t\tlet that = this;\r\n\t\t\tconst pageDefaults = {\r\n\t\t\t\tappend_number_input: true,\r\n\t\t\t\tlink_to: \"javascript:void(0)\",\r\n\t\t\t\tnum_edge_entries: 1,\r\n\t\t\t\tnum_display_entries: 5,\r\n\t\t\t\titems_per_page: 10,\r\n\t\t\t\tprev_text: \"&laquo;\",\r\n\t\t\t\tnext_text: \"&raquo;\",\r\n\t\t\t\tload_first_page: false,\r\n\t\t\t\tcallback: (pageIndex, paginationContainer) => {\r\n\t\t\t\t\tthat._param.pageIndex = pageIndex;\r\n\t\t\t\t\tthat.update(this._param);\r\n\t\t\t\t\t//that.iptPageGo.val(that._param.pageNo);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tshowCount: true,\r\n\t\t\t\tcustomizable: true,\r\n\t\t\t};\r\n\r\n\r\n\t\t\tif (cfg.pagination.pageSize)\r\n\t\t\t\tcfg.pagination.items_per_page = cfg.pagination.pageSize;\r\n\r\n\t\t\tcfg.pagination = $.extend(pageDefaults, cfg.pagination);\r\n\r\n\r\n\t\t\tthis.pagination = cfg.pagination;\r\n\r\n\t\t\tthis._param = $.extend({\r\n\t\t\t\tpageIndex: 0,\r\n\t\t\t\tpageSize: cfg.pagination.pageSize\r\n\t\t\t}, cfg.param);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcreatedHandler(data: any) {\r\n\t\tif (this.cmd === 'checkAll') {\r\n\t\t\tthis.cmdCheckAll = this.thead.find('th:eq(' + this.cmdColumnIndex + ')').find('input');\r\n\t\t\tthis.cmdCheckAll.syncCheckBoxGroup('td:eq(' + this.cmdColumnIndex + ')>:checkbox:enabled', this.tbody.find('tr'));\r\n\t\t}\r\n\t\telse if (this.cmd === 'checkOne') {\r\n\t\t\tthis.cmdCheckOne = this.thead.find('th:eq(' + this.cmdColumnIndex + ')').find('input:hidden');\r\n\t\t}\r\n\r\n\r\n\t\tthis._created = true;\r\n\r\n\t\tif (this._createdPromise) {\r\n\t\t\tthis._createdPromise.resolve();\r\n\t\t}\r\n\t\tif (this.onCreate) this.onCreate(data);\r\n\t}\r\n\r\n\tbindHandler(json) {\r\n\t\tif (this.pagination) {\r\n\t\t\tthis.makePager(~~json.totalRecord);\r\n\t\t}\r\n\t\tif (typeof this.onBind === 'function') this.onBind(json);\r\n\t}\r\n\r\n\tupdateHandler(json) {\r\n\t\tif (this.cmdCheckAll) {\r\n\t\t\tthis.cmdCheckAll.prop(\"checked\", false);\r\n\t\t\tthis.cmdCheckAll.syncCheckBoxGroup('td:eq(' + this.cmdColumnIndex + ')>:checkbox:enabled', this.tbody.find('tr'));\r\n\t\t}\r\n\r\n\r\n\t\tif ($.isFunction(this.onUpdate))\r\n\t\t\tthis.onUpdate(json);\r\n\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//分页\r\n\tmakePager(rowCount) {\r\n\r\n\t\tlet that = this;\r\n\r\n\t\tlet pageCount = Math.ceil(rowCount / this._param.pageSize);\r\n\t\tif (pageCount === 0) pageCount = 1;\r\n\r\n\t\t//console.log(this._param , pageCount , this.pageCount , this.fetching);\r\n\t\tif (this._param.pageIndex > 0 && pageCount < this.pageCount) {\r\n\t\t\tif (this.fetching)\r\n\t\t\t\tthis.fetching = false;\r\n\t\t\telse {\r\n\t\t\t\tthis.fetching = true;\r\n\t\t\t\tthis._param.pageIndex -= (this.pageCount - pageCount) - 1;\r\n\t\t\t\treturn setTimeout(() => this.update(), 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tthis.pageCount = pageCount;\r\n\t\tlet pageNum = this._param.pageIndex + 1;\r\n\r\n\t\tif (this.tPager) {\r\n\t\t\tthis.pagination.current_page = this._param.pageIndex;\r\n\t\t\tthis.tPager.pagination(rowCount, this.pagination);\r\n\r\n\t\t\tif (this.pagination.showCount) {\r\n\t\t\t\t//this.pageCounter.html(format.json(this.pageTemplate, {rowCount, pageNum, pageCount}));\r\n\r\n\t\t\t\tthis.pageCounter.find('.bt').text(rowCount);\r\n\t\t\t\t//this.iptPageGo.val(pageNum).data('total' , pageCount);\r\n\t\t\t\tthis.pageCounter.find('.bc').text(pageCount);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.tfoot = this.fixFooter ? this.table.next('.gridPaginationFooter') : this.table.find(\"tfoot td:eq(0)\");\r\n\t\t\tthis.tPager = $('<div class=\"pagination_container\"></div>').appendTo(this.tfoot);\r\n\t\t\tthis.tPager.pagination(rowCount, this.pagination);\r\n\r\n\r\n\t\t\tthis.iptPageGo = this.tfoot.find('.iptPageGo');\r\n\t\t\tthis.pagination.append_number_input = this.iptPageGo;\r\n\r\n\t\t\tthis.pageCounter = $('<span></span>');\r\n\t\t\tthis.tPager.after(this.pageCounter);\r\n\r\n\t\t\tif (this.pagination.showCount) {\r\n\r\n\t\t\t\tif (typeof this.pagination.showCount === \"string\")\r\n\t\t\t\t\tthis.pageTemplate = this.pagination.showCount as string;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (Languages.current === Languages.names.cn) {\r\n\t\t\t\t\t\tthis.pageTemplate = '共<span class=\"bt\">${rowCount}</span>条记录 , 第<span class=\"bf\">${pageNum}</span> / <span class=\"bc\">${pageCount}</span>页';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.pageTemplate = 'total: <span class=\"bt\">${rowCount}</span> record(s), <span class=\"bf\">${pageNum}</span> / <span class=\"bc\">${pageCount}</span> page(s)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.pageCounter.html(jsonFormat(this.pageTemplate, {rowCount, pageNum, pageCount}));\r\n\r\n\t\t\t\tlet bf = this.pageCounter.find('.bf');\r\n\t\t\t\tthis.iptPageGo.val(pageNum);//.data('total' , pageCount);\r\n\t\t\t\tbf.replaceWith(this.iptPageGo);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.pagination.customizable) {\r\n\r\n\t\t\t\tif (typeof this.pagination.customizable != 'object')\r\n\t\t\t\t\tthis.pagination.customizable = [10, 20, 50];\r\n\r\n\t\t\t\tlet ps = this.pagination.customizable as Array, arq = [];\r\n\r\n\t\t\t\tfor (let q = 0, ql = ps.length; q < ql; q++)\r\n\t\t\t\t\tarq[q] = '<option value=\"' + ps[q] + '\" ' + (ps[q] == this.pagination.pageSize ? 'selected' : '') + '>' + ps[q] + '</option>';\r\n\r\n\t\t\t\tlet pageSelector = $('<select>' + arq.join('') + '</select>');\r\n\t\t\t\tif (Languages.current === Languages.names.cn)\r\n\t\t\t\t\tthis.pageCounter.after($('<label class=\"pageSelectorLabel\">每页</label>').append(pageSelector).append('条'));\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.pageCounter.after($('<label class=\"pageSelectorLabel\"></label>').append(pageSelector).append(' / page'))\r\n\r\n\t\t\t\t//on change event\r\n\t\t\t\tpageSelector.on('change.opg', function () {\r\n\r\n\t\t\t\t\tthat.pagination.items_per_page = that._param.pageSize = ~~(this.options[this.selectedIndex] as HTMLOptionElement).value;\r\n\t\t\t\t\tthat._param.pageIndex = 0;\r\n\t\t\t\t\tthat.update(that._param);\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t//@return object array\r\n\tgetCheckData() {\r\n\t\tif (this.cmd) {\r\n\t\t\tlet key = (this.cmdCheckAll || this.cmdCheckOne).val(),\r\n\t\t\t\tchkBoxes = this.tbody.find(\"input[name='\" + key + \"']\"),\r\n\t\t\t\trev = this.cmdCheckAll ? [] : null;\r\n\r\n\t\t\tfor (let i = 0, l = chkBoxes.length; i < l; i++) {\r\n\t\t\t\tif ((chkBoxes[i] as HTMLInputElement).checked) {\r\n\t\t\t\t\tif (this.cmdCheckOne)\r\n\t\t\t\t\t\treturn this.data[i];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\trev.push(this.data[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn rev;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn null;\r\n\t}\r\n\r\n\t//@return string value array\r\n\tgetCheckedValue() {\r\n\t\tif (this.cmd) {\r\n\t\t\tlet key = (this.cmdCheckAll || this.cmdCheckOne).val(),\r\n\t\t\t\tchkBoxes = this.tbody.find(\"input[name='\" + key + \"']:checked\");\r\n\t\t\tlet rev;\r\n\r\n\t\t\tif (this.cmdCheckAll) {\r\n\t\t\t\trev = [];\r\n\t\t\t\tchkBoxes.each((i, elem: HTMLInputElement) => {\r\n\t\t\t\t\trev.push(elem.value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trev = chkBoxes.length ? chkBoxes.val() : null;\r\n\t\t\t}\r\n\r\n\t\t\treturn rev;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\n\r\nexport default Table;\r\n"]}