{"version":3,"sources":["/pages/operation/mytrip.ts"],"names":[],"mappings":"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","file":"mytrip.js","sourcesContent":["import {api} from '/js/api';\r\nimport {Languages, Store} from '/js/util';\r\n\r\n\r\napi({\r\n    'addtripbyuser!post':'Operation/Addtripbyuser',\r\n    'gettriplistbyuser!post': 'Operation/Gettriplistbyuser'\r\n});\r\n\r\nconst lng = Languages.package;\r\nlet clng = 'en';\r\n\r\nif (localStorage.getItem('lngPkg') != null || localStorage.getItem('lngPkg') != undefined) {\r\n    const currentlng = localStorage.getItem('lngPkg');\r\n    clng = currentlng.replace(/[\"\"\"]/g, '');\r\n}\r\n\r\nif(clng==\"cn\") {\r\n    $(\"#en1\").hide();\r\n    $(\"#cn1\").show();\r\n}\r\nelse {\r\n    $(\"#en1\").show();\r\n    $(\"#cn1\").hide();\r\n}\r\n\r\nlet param2={};\r\nparam2.currentlng=clng;\r\nparam2.pageIndex=0;\r\nparam2.pageSize=10;\r\napi.gettriplistbyuser(param2,data => {\r\n    if(data.results.length>0) {\r\n        $(\"#comemethod\").val(data.results[0].comemethod);\r\n        $(\"#comecity\").val(data.results[0].comecity);\r\n        $(\"#comedate\").html(data.results[0].comedate);\r\n        $(\"#comemethodinfo\").val(data.results[0].comemethodinfo);\r\n        $(\"#comearrivedate\").html(data.results[0].comearrivedate);\r\n        $(\"#leavemethod\").val(data.results[0].leavemethod);\r\n        $(\"#leavecity\").val(data.results[0].leavecity);\r\n        $(\"#leavedate\").html(data.results[0].leavedate);\r\n        $(\"#leavemethodinfo\").val(data.results[0].leavemethodinfo);\r\n        $(\"#leavearrivedate\").html(data.results[0].leavearrivedate);\r\n        $(\"#paymethod\").val(data.results[0].paymethod);\r\n\r\n        if(data.results[0].paymethod==\"支付宝\"){\r\n            $(\".zhifubao\").show();\r\n            $(\".bank\").hide();\r\n        }\r\n        else if(data.results[0].paymethod==\"银行\")\r\n        {\r\n            $(\".zhifubao\").hide();\r\n            $(\".bank\").show();\r\n        }\r\n        else\r\n        {\r\n            $(\".zhifubao\").hide();\r\n            $(\".bank\").hide();\r\n        }\r\n        $(\"#zhifubaoname\").val(data.results[0].zhifubaoname);\r\n        $(\"#zhifubaoaccount\").val(data.results[0].zhifubaoaccount);\r\n        $(\"#bankaccountname\").val(data.results[0].bankaccountname);\r\n        $(\"#bankaccount\").val(data.results[0].bankaccount);\r\n        $(\"#bankname\").val(data.results[0].bankname);\r\n    }\r\n});\r\n\r\n$(\"#savebtn\").click(function () {\r\n    let param={};\r\n    param.comemethod=$(\"#comemethod\").val();\r\n    param.comecity=$(\"#comecity\").val();\r\n    param.comedate=$(\"#comedate\").html()==\"选择日期时间 ...\"?\"\":$(\"#comedate\").html();\r\n    param.comemethodinfo=$(\"#comemethodinfo\").val();\r\n    param.comearrivedate=$(\"#comearrivedate\").html()==\"选择日期时间 ...\"?\"\":$(\"#comearrivedate\").html();\r\n    param.leavemethod=$(\"#leavemethod\").val();\r\n    param.leavecity=$(\"#leavecity\").val();\r\n    param.leavedate=$(\"#leavedate\").html()==\"选择日期时间 ...\"?\"\":$(\"#leavedate\").html();\r\n    param.leavemethodinfo=$(\"#leavemethodinfo\").val();\r\n    param.leavearrivedate=$(\"#leavearrivedate\").html()==\"选择日期时间 ...\"?\"\":$(\"#leavearrivedate\").html();\r\n    param.paymethod=$(\"#paymethod\").val();\r\n    param.zhifubaoname=$(\"#zhifubaoname\").val();\r\n    param.zhifubaoaccount=$(\"#zhifubaoaccount\").val();\r\n    param.bankaccountname=$(\"#bankaccountname\").val();\r\n    param.bankaccount=$(\"#bankaccount\").val();\r\n    param.bankname=$(\"#bankname\").val();\r\n\r\n\r\n\r\n\r\n    // if(param.comemethod==\"\" || param.leavemethod==\"\") {\r\n    //     mui.alert(Languages.package['tips6'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    // }\r\n    if(param.comemethod!=\"\" && (param.comedate==\"\" || param.comearrivedate==\"\"))\r\n    {\r\n        mui.alert(Languages.package['tips5'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    }\r\n    else if(param.leavemethod!=\"\" && (param.leavedate==\"\" || param.leavearrivedate==\"\"))\r\n    {\r\n        mui.alert(Languages.package['tips5'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    }\r\n    // else if(param.paymethod==\"\") {\r\n    //     mui.alert(Languages.package['tips7'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    // }\r\n    else if(param.paymethod==\"支付宝\" && (param.zhifubaoname==\"\" || param.zhifubaoaccount==\"\"))\r\n    {\r\n        mui.alert(Languages.package['tips4'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    }\r\n    else if(param.paymethod==\"银行\" && (param.bankaccountname==\"\" || param.bankaccount==\"\" || param.bankname==\"\")) {\r\n        mui.alert(Languages.package['tips3'], Languages.package['tipstitle'], Languages.package['okb']);\r\n    }\r\n    else {\r\n        api.addtripbyuser(param,data => {\r\n            if(data) {\r\n                mui.alert(Languages.package['tips'], Languages.package['tipstitle'], Languages.package['okb']);\r\n            }\r\n            else\r\n            {\r\n                mui.alert(Languages.package['tips2'], Languages.package['tipstitle'], Languages.package['okb']);\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n\r\n$('#paymethod').on('change',function(){\r\n//判断是否选取prompt属性，无返回值；\r\n    if($(this).val()==\"支付宝\"){\r\n        $(\".zhifubao\").show();\r\n        $(\".bank\").hide();\r\n    }\r\n    else if($(this).val()==\"银行\")\r\n    {\r\n        $(\".zhifubao\").hide();\r\n        $(\".bank\").show();\r\n    }\r\n    else\r\n    {\r\n        $(\".zhifubao\").hide();\r\n        $(\".bank\").hide();\r\n    }\r\n});\r\n\r\n\r\nfunction formatdate(mydate) {\r\n    var newdate;\r\n    var data = new Date(mydate);\r\n    var year = data.getFullYear();  //获取年\r\n    var month = data.getMonth() + 1;    //获取月\r\n    var day = data.getDate(); //获取日\r\n    if(month<10) {\r\n        if(day<10)\r\n            newdate= year+\"-0\"+month+\"-0\"+day;\r\n        else\r\n            newdate= year+\"-0\"+month+\"-\"+day;\r\n    }\r\n    else {\r\n        if(day<10)\r\n            newdate = year + \"-\" + month+\"-0\"+day;\r\n        else\r\n            newdate = year + \"-\" + month + \"-\" + day;\r\n    }\r\n    return newdate;\r\n}"]}