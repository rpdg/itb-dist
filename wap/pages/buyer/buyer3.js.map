{"version":3,"sources":["/pages/buyer/buyer3.ts"],"names":[],"mappings":"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","file":"buyer3.js","sourcesContent":["import { api } from '/js/api';\r\nimport { array, Languages, request, Store } from '../../js/util';\r\n\r\napi({\r\n\tproduct: 'buyer/GetBuyersByProduct',\r\n\tchoose: 'exhibition/GetExhibitionChooseBuyers',\r\n\t//region: 'buyer/GetBuyersByCountry',\r\n\tregion: 'buyer/GetBuyersByContinent',\r\n\tinterestedregion: 'buyer/GetBuyersByContinent2',\r\n\tsegment: 'buyer/GetBuyersByGroup',\r\n\tall: 'buyer/GetAllBuyers',\r\n\tsearch: 'buyer/SearchBuyers',\r\n\t'sendScheduleMessage!post': 'message/SendScheduleMessage',\r\n\tlikeBuyerForExhibtionByBarCodeInList: 'exhibition/LikeBuyerForExhibtionByBarCodeInList'\r\n});\r\n\r\napi.all.set('timeOut', 3e5);\r\n\r\nconst by = request['by'];\r\nconst scheduleAddtoTime = Store.get('scheduleAddtoTime') == null ? '' : Store.get('scheduleAddtoTime');\r\nconst fromSchedule = request['from'] === 'schedule';\r\nconst wishListStage = Store.get('Stage') === 'wishlist' && Store.get('RoleName') == 'exhibition' && by != 'choose';\r\n\r\nconst lng = Languages.package;\r\nlet clng = 'en';\r\n\r\nif (localStorage.getItem('lngPkg') != null || localStorage.getItem('lngPkg') != undefined) {\r\n\tconst currentlng = localStorage.getItem('lngPkg');\r\n\tclng = currentlng.replace(/[\"\"\"]/g, '');\r\n}\r\ntemplate.defaults.imports.clng = clng;\r\n\r\nlet mytext = request['text'];\r\nlet mytext2 = '';\r\nif (mytext == undefined || mytext == '') {\r\n\tmytext = lng.sr;\r\n}\r\nlet mytexthead = mytext.split('-');\r\nif (mytexthead.length > 0) {\r\n\tmytext2 = mytexthead[0].trim();\r\n}\r\n\r\n$('#mytext').html('- ' + mytext);\r\n\r\napi.likeBuyerForExhibtionByBarCodeInList.set('onError', function(code, error, callback) {\r\n\tif (code === 200 && error === 'LikeBuyerForExhibtionByBarCodeInList_Error01') {\r\n\t\tlet errorMsg = lng['tips3'];\r\n\t\tmui.alert(`${errorMsg}`, lng['tipTitle'], lng['okb']);\r\n\t}\r\n});\r\n\r\napi.sendScheduleMessage.set('onError', function(code, error, callback) {\r\n\tif (code === 200 && error === 'message_error05') {\r\n\t\tlet errorMsg = lng['tips4'];\r\n\t\tmui.alert(`${errorMsg}`, lng['tipTitle'], lng['okb']);\r\n\t}\r\n});\r\n\r\nswitch (by) {\r\n\tcase 'product':\r\n\t\tapi.product({ productId: request['productId'], scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#backurl').attr('href', 'list.html?from=' + request['from'] + '&by=' + by + '&text=' + mytext2);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='list.html?by='+by + '&text='+mytext2 + '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'choose':\r\n\t\tapi.choose({ scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#mytext2').html(lng.tips5);\r\n\t\t$('#backurl').attr('href', 'buyer1.html?from=' + request['from']);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='buyer1.html'+ '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'region':\r\n\t\t//api.region({country: request['regionId']}, data => showData(data));\r\n\t\tapi.region({ continent: request['regionId'], scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#backurl').attr('href', 'list.html?from=' + request['from'] + '&by=' + by + '&text=' + mytext2);\r\n\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='list.html?by='+by + '&text='+mytext2 + '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'interestedregion':\r\n\t\tapi.interestedregion({ continent: request['regionId'], scheduleAddtoTime: scheduleAddtoTime }, data =>\r\n\t\t\tshowData(data)\r\n\t\t);\r\n\t\t$('#backurl').attr('href', 'list.html?from=' + request['from'] + '&by=' + by + '&text=' + mytext2);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='list.html?by='+by + '&text='+mytext2 + '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'segment':\r\n\t\tapi.segment({ group: request['productId'], scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#backurl').attr('href', 'list.html?from=' + request['from'] + '&by=' + by + '&text=' + mytext2);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='list.html?by='+by + '&text='+mytext2 + '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'search':\r\n\t\tapi.search({ keyword: request['keyword'], scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#backurl').attr('href', 'buyer1.html?from=' + request['from']);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='buyer1.html'+ '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tcase 'all':\r\n\t\tapi.all({ scheduleAddtoTime: scheduleAddtoTime }, data => showData(data));\r\n\t\t$('#backurl').attr('href', 'buyer1.html?from=' + request['from']);\r\n\t\t// $('#backurl').click(function (e) {\r\n\t\t//     location.href='buyer1.html' + '&time='+((new Date()).getTime());\r\n\t\t// });\r\n\t\tbreak;\r\n\tdefault:\r\n}\r\n\r\nlet alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\nlet list: any = {};\r\n\r\nfunction showData(arr) {\r\n\tlet data;\r\n\tif (Languages.current === 'en') {\r\n\t\tdata = array.sort(arr, 'company', function(a, b) {\r\n\t\t\tlet A = a['company'].toUpperCase(),\r\n\t\t\t\tB = b['company'].toUpperCase();\r\n\t\t\treturn A === B ? 0 : A > B ? 1 : -1;\r\n\t\t});\r\n\t\tfor (let i = 0, l = data.length; i < l; i++) {\r\n\t\t\tlet it = data[i],\r\n\t\t\t\tf = it['company'].substr(0, 1).toUpperCase();\r\n\t\t\tif (!list[f]) {\r\n\t\t\t\tif (alpha.indexOf(f) === -1) f = '#';\r\n\t\t\t\tlist[f] = [];\r\n\t\t\t}\r\n\t\t\tit[':index'] = i;\r\n\t\t\tlist[f].push(it);\r\n\t\t}\r\n\t} else {\r\n\t\tdata = array.sort(arr, 'company', function(a, b) {\r\n\t\t\tlet A = makePy(a['company'])[0].toUpperCase(),\r\n\t\t\t\tB = makePy(b['company'])[0].toUpperCase();\r\n\t\t\treturn A === B ? 0 : A > B ? 1 : -1;\r\n\t\t});\r\n\t\tfor (let i = 0, l = data.length; i < l; i++) {\r\n\t\t\tlet it = data[i],\r\n\t\t\t\tf = makePy(it['company'])[0]\r\n\t\t\t\t\t.substr(0, 1)\r\n\t\t\t\t\t.toUpperCase();\r\n\r\n\t\t\tif (!list[f]) {\r\n\t\t\t\tif (alpha.indexOf(f) === -1) f = '#';\r\n\t\t\t\tlist[f] = [];\r\n\t\t\t}\r\n\t\t\tit[':index'] = i;\r\n\t\t\tlist[f].push(it);\r\n\t\t}\r\n\t}\r\n\r\n\t/*let obj = {\r\n        lng: Languages.current,\r\n        arr: list\r\n    };*/\r\n\tlet ul = $('#divBuyerThumbList');\r\n\r\n\tvar pd = $.isEmptyObject(list);\r\n\tif (pd) {\r\n\t\tul.hide();\r\n\t} else {\r\n\t\tul.show();\r\n\t\tul.html(template('tpl', list));\r\n\t}\r\n\r\n\tlet tplDetail = template.compile(document.getElementById('tpl-detail').innerHTML);\r\n\r\n\tul.on('click', 'li', function() {\r\n\t\tlet mask = $(`<div class=\"mask\" style=\"background-color: rgba(0,0,0,0.6)\"></div>`);\r\n\t\tmask.on('click', function() {\r\n\t\t\tmask.remove();\r\n\t\t});\r\n\r\n\t\tlet obj = data[this.getAttribute('data-index')];\r\n\t\tobj.fromSchedule = fromSchedule;\r\n\t\tobj.stage = wishListStage;\r\n\t\tobj['__lng'] = Languages.package;\r\n\t\tobj.clng = clng;\r\n\t\tmask.append(tplDetail(obj));\r\n\t\t$('body').append(mask);\r\n\t\tconsole.log(obj);\r\n\t\tlet toBarCode = this.getAttribute('data-barcode');\r\n\t\t//data-barcode\r\n\r\n\t\t$('#btnSendSchedule').click(function(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tapi.sendScheduleMessage(\r\n\t\t\t\t{\r\n\t\t\t\t\tmsgTitle: Languages.package.msgTitle,\r\n\t\t\t\t\tmsgContent: request['info'].replace(/\\+/gi, ' '),\r\n\t\t\t\t\ttoBarCode\r\n\t\t\t\t},\r\n\t\t\t\tdata => {\r\n\t\t\t\t\tmask.remove();\r\n\t\t\t\t\tmui.alert(Languages.package.scheduleOk, Languages.package.tipTitle, Languages.package.okb, () => {\r\n\t\t\t\t\t\twindow.location.href = '../schedule/mine.html';\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t$('#btnWishList').click(function(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tapi.likeBuyerForExhibtionByBarCodeInList({ buyerBarcode: toBarCode }, data => {\r\n\t\t\t\tmask.remove();\r\n\t\t\t\t//mui.alert(Languages.package.addWishListOk, Languages.package.tipTitle, 'OK');\r\n\t\t\t\tmui.toast(Languages.package.addWishListOk, { verticalAlign: 'center' });\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}\r\n\r\ndocument.getElementById('iptSearch').addEventListener(\r\n\t'keypress',\r\n\tfunction(evt) {\r\n\t\tif (evt.keyCode === 13 && this.value) {\r\n\t\t\tlocation.href =\r\n\t\t\t\t'./buyer3.html?by=search' +\r\n\t\t\t\t(request['from'] ? '&from=' + request['from'] : '') +\r\n\t\t\t\t(request['info'] ? '&info=' + request['info'] : '') +\r\n\t\t\t\t'&keyword=' +\r\n\t\t\t\tthis.value;\r\n\t\t}\r\n\t},\r\n\tfalse\r\n);\r\n\r\n$('#iptSearch').attr('placeholder', lng.searchtips);\r\n"]}