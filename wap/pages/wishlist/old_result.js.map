{"version":3,"sources":["/pages/wishlist/old_result.ts"],"names":[],"mappings":"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","file":"old_result.js","sourcesContent":["import {api} from '/js/api';\r\nimport {Languages, Store,request} from '/js/util';\r\n\r\napi({\r\n    'getBuyerChooseExhibitionWishlist': 'buyer/GetBuyerChooseExhibitionWishlist',\r\n    'exhibitionChooseWishListResult': 'exhibition/ExhibitionChooseWishListResult',\r\n    'delBuyerWhilistByExhibitionBarCode': 'buyer/DelBuyerWhilistByExhibitionBarCode',\r\n    'delExhibtionWhilistByBuyerBarCode': 'exhibition/DelExhibtionWhilistByBuyerBarCode',\r\n    'getExhibitionDetailByBarCode':'exhibition/GetExhibitionDetailByBarCode',\r\n    'getBuyerDetailByBarCode':'buyer/GetBuyerDetailByBarCode'\r\n\r\n});\r\n\r\n\r\nconst lpg = Languages.package;\r\nconst comepage=request['comepage'];\r\n\r\nlet clng = 'en';\r\n\r\nif (localStorage.getItem(\"lngPkg\") != null || localStorage.getItem(\"lngPkg\") != undefined) {\r\n    const currentlng = localStorage.getItem(\"lngPkg\");\r\n    clng = currentlng.replace(/[\"\"\"]/g, \"\");\r\n}\r\n\r\n\r\n$(\"#pagetitle\").html(lpg.pageTitle);\r\nlet btnSelect = $(\"#btnSelect\");\r\nbtnSelect.html(lpg.btnselected);\r\n\r\nlet act = Store.get('RoleName') === 'exhibition' ? 'exhibition' : 'buyer';\r\nlet target = Store.get('RoleName') === 'exhibition' ? 'buyer' : 'exhibition';\r\nlet curStage = Store.get('Stage');\r\n\r\nif (curStage === 'wishlist') {\r\n   btnSelect.show();\r\n}\r\ntemplate.defaults.imports.act = act;\r\n\r\nfunction deleteWishlist(barcode) {\r\n    mui.confirm(lpg['Content'],lpg['Tips'],[lpg['okb'],lpg['cancelb']],function(e){\r\n        if(e.index==0) {\r\n            if (act == \"buyer\") {\r\n\r\n                api.delBuyerWhilistByExhibitionBarCode({exhbitionBarCode: barcode}, (data) => {\r\n                    location.reload(true);\r\n                });\r\n            }\r\n            else if (act == \"exhibition\") {\r\n\r\n                api.delExhibtionWhilistByBuyerBarCode({buyerBarCode: barcode}, (data) => {\r\n                    location.reload(true);\r\n                });\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n\r\nlet param = {};\r\n\r\nif (act == \"buyer\") {\r\n    api.getBuyerChooseExhibitionWishlist(param, (data) => {\r\n        showdata(data);\r\n\r\n    });\r\n}\r\nelse if (act == \"exhibition\") {\r\n    api.exhibitionChooseWishListResult(param, (data) => {\r\n        showdata(data);\r\n\r\n    });\r\n}\r\n\r\n\r\nfunction showdata(data) {\r\n\r\n    $(\"#resulthead tr\").html(\"\");\r\n    $(\"#resulthead\").append(\r\n        \"<thead><th style='width:70%'>\" + lpg.th1 + \"</th><th>\" + lpg.th3 + \"</th></thead>\"\r\n    );\r\n\r\n    $(\"#resultlist tr\").html(\"\");\r\n    for (var i = 0; i < data.length; i++) {\r\n        var _len = $(\"#resultlist tr\").length;\r\n        let b = data[i].barcode;\r\n        let deletespan = $(`<span class='deleteSpan' id='` + data[i].barcode + `'>` + lpg.th4 + `</span>`);\r\n        deletespan.on('click', function () {\r\n            if(curStage=== 'wishlist') {\r\n                deleteWishlist(b);\r\n            }\r\n        });\r\n\r\n        if (data[i].company.length > 25) {\r\n            $(\"#resultlist\").append(\r\n                \"<tr><td style='width:70%' id='c\"+data[i].barcode+\"'>\" + data[i].company.substr(0, 22) + \"...</td>\"\r\n                + \"<td id='td\" + data[i].barcode + \"'></td>\"\r\n                + \"</tr>\");\r\n\r\n            $(\"#td\" + data[i].barcode).append(deletespan);\r\n            $(\"#c\" + data[i].barcode).on('click',function(){\r\n                getInfoBybarcode(b);\r\n            });\r\n        }\r\n        else {\r\n            $(\"#resultlist\").append(\r\n                \"<tr><td style='width:70%' id='c\"+data[i].barcode+\"'>\" + data[i].company + \"</td>\"\r\n                + \"<td id='td\" + data[i].barcode + \"'></td>\"\r\n                + \"</tr>\");\r\n\r\n            $(\"#td\" + data[i].barcode).append(deletespan);\r\n            $(\"#c\" + data[i].barcode).on('click',function(){\r\n                getInfoBybarcode(b);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n$('#btnSelect').click(function () {\r\n    location.href = './wishlist.html';\r\n});\r\n\r\n$('#returntobtn').click(function () {\r\n\r\n    if(comepage==\"wishlist\")\r\n        location.href = 'wishlist.html';\r\n    else\r\n        location.href=\"../dashboard/index.html?s=wishlist\";\r\n});\r\n\r\n\r\nlet maskFlag = 1;\r\n\r\nfunction getInfoBybarcode(barcode) {\r\n    var p={};\r\n    p.barcode=barcode;\r\n    if(act==\"buyer\") {\r\n        api.getExhibitionDetailByBarCode(p,data=>{\r\n            let renderDetail = template.compile(document.getElementById('tpl-detail').innerHTML);\r\n\r\n            let it = data[0];\r\n            it.clng = clng;\r\n            it.lng = lpg;\r\n            console.log(it);\r\n            maskFlag = 1;\r\n            showMask(renderDetail(it));\r\n\r\n        });\r\n    }\r\n    else if(act==\"exhibition\")\r\n    {\r\n        api.getBuyerDetailByBarCode(p,data=>{\r\n            let renderDetail = template.compile(document.getElementById('tpl-detail').innerHTML);\r\n\r\n            let it = data[0];\r\n            it.clng = clng;\r\n            it.lng = lpg;\r\n            console.log(it);\r\n            maskFlag = 1;\r\n            showMask(renderDetail(it));\r\n        });\r\n    }\r\n};\r\n\r\nfunction showMask(htmlContent: string) {\r\n    let mask = $(`<div id=\"mymask\" class=\"mask\" style=\"background-color: rgba(0,0,0,0.6)\"></div>`);\r\n    mask.on('click', function () {\r\n        if (maskFlag === 1) {\r\n            mask.remove();\r\n        }\r\n    });\r\n\r\n    mask.append(htmlContent);\r\n    $('body').append(mask);\r\n    return mask;\r\n}\r\n\r\n"]}