{"version":3,"sources":["/pages/meetings/detail.ts"],"names":[],"mappings":";;;;AAAA,+BAA4B;AAC5B,iCAAiD;AACjD,mCAAoC;AAEpC,SAAG,CAAC;IACH,MAAM,EAAE,qCAAqC;IAC7C,SAAS,EAAE,kCAAkC;IAC1C,mBAAmB,EAAC,4CAA4C;CACnE,CAAC,CAAC;AAEH,IAAM,EAAE,GAAG,cAAO,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,cAAO,CAAC,UAAU,CAAC,CAAC;AAErD,IAAM,QAAQ,GAAG,cAAO,CAAC,UAAU,CAAC,CAAC;AAIrC,SAAG,CAAC,MAAM,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;IACpB,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAClC,IAAG,CAAC,GAAG;QACN,OAAO,GAAG,CAAC,KAAK,CAAC,gBAAS,CAAC,OAAO,CAAC,eAAe,EAAG,gBAAS,CAAC,OAAO,CAAC,GAAG,EAAG,gBAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAEpG,GAAG,CAAC,GAAG,GAAG,gBAAS,CAAC,OAAO,CAAC;IAC5B,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACjC,GAAG,CAAC,QAAQ,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAG9B,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAGjE,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;QACnC,IAAI,KAAK,GAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAE9C,IAAG,KAAK,IAAE,GAAG,EAAE;YACL,SAAG,CAAC,SAAS,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;gBACpB,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC;SACX;aACI,IAAG,KAAK,IAAE,GAAG,EAAE;YACV,SAAG,CAAC,mBAAmB,CAAC,EAAC,EAAE,MAAC,EAAE,cAAI;gBAC9B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC;SACX;IACF,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;QACf,IAAI,QAAQ,GAAC,YAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACzC,IAAG,QAAQ,KAAG,OAAO;YACX,QAAQ,CAAC,IAAI,GAAG,eAAe,GAAG,QAAQ,CAAC,MAAM,CAAC;;YAE3D,QAAQ,CAAC,IAAI,GAAG,eAAe,GAAG,QAAQ,CAAC,MAAM,CAAC;IACpD,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC;AAGH,CAAC,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;IACjC,IAAG,QAAQ,KAAG,UAAU;QACvB,QAAQ,CAAC,IAAI,GAAC,uBAAuB,CAAC;SAClC,IAAG,QAAQ,KAAG,SAAS;QACxB,QAAQ,CAAC,IAAI,GAAC,cAAc,CAAC;;QAEhC,QAAQ,CAAC,IAAI,GAAC,eAAe,CAAC;AAChC,CAAC,CAAC,CAAC","file":"detail.js","sourcesContent":["import {api} from '/js/api';\r\nimport {Languages, request, url} from '/js/util';\r\nimport {Store} from \"../../js/util\";\r\n\r\napi({\r\n\tgetSub: 'activity/GetActivityContentInfoById',\r\n\tsendApply: 'activity/ApplyingActivityContent',\r\n    sendApplyNoApproval:'activity/ApplyingActivityContentNoApproval'\r\n});\r\n\r\nconst id = request['id'], type = request['typeCode'];\r\n\r\nconst comepage = request['comepage'];\r\n\r\n\r\n\r\napi.getSub({id}, data => {\r\n\tlet obj = data.activityContent[0];\r\n\tif(!obj)\r\n\t\treturn mui.alert(Languages.package.notExistedError , Languages.package.tip , Languages.package.ok);\r\n\r\n\tobj.lng = Languages.package;\r\n\tobj.applyState = data.applyState;\r\n\tobj.activity=data.activity[0];\r\n\r\n\r\n\tdocument.getElementById('main').innerHTML = template('tpl', obj);\r\n\r\n\r\n\t$('.btnSendApply').click(function (e) {\r\n\t\tlet scope=e.target.getAttribute(\"data-scope\");\r\n\r\n\t\tif(scope==\"0\") {\r\n            api.sendApply({id}, data => {\r\n                location.reload(true);\r\n            })\r\n\t\t}\r\n\t\telse if(scope==\"1\") {\r\n            api.sendApplyNoApproval({id}, data => {\r\n                location.reload(true);\r\n            })\r\n\t\t}\r\n\t});\r\n\t$('.btnSingin').click(function () {\r\n        let RoleName=Store.get('RoleName');\r\n\t\tif(RoleName===\"staff\")\r\n            location.href = './result.html' + location.search;\r\n\t\telse\r\n\t\t\tlocation.href = './signin.html' + location.search;\r\n\t});\r\n});\r\n\r\n\r\n$('#turnbackto').click(function (e) {\r\n\tif(comepage===\"schedule\")\r\n\t\tlocation.href='../schedule/mine.html';\r\n\telse if(comepage===\"meeting\")\r\n    \tlocation.href='meeting.html';\r\n    else\r\n\t\tlocation.href='activity.html';\r\n});"]}