{"version":3,"sources":["/pages/exhibitors/list.ts"],"names":[],"mappings":"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","file":"list.js","sourcesContent":["import {api} from '/js/api';\r\nimport {Languages, request} from '/js/util';\r\nimport {array} from '/js/util';\r\n\r\napi({\r\n\tproduct: 'product/GetProductGroup',\r\n\t//region: 'country/GetAllCountry',\r\n\tregion: 'country/GetAllContinent',\r\n\tsegment: 'product/GetProductTypes',\r\n});\r\n\r\nlet by = request['by'];\r\nlet mytext= request['text'];\r\n\r\n\r\n\r\n\r\n\r\nif(mytext!=undefined && mytext!=\"\") {\r\n    $(\"#mytext\").html('- ' + mytext);\r\n}\r\ntemplate.defaults.imports.mytextobj=mytext;\r\n\r\n\r\n\r\nconst lng = Languages.package;\r\nlet clng = 'en';\r\n\r\nif (localStorage.getItem('lngPkg') != null || localStorage.getItem('lngPkg') != undefined) {\r\n    const currentlng = localStorage.getItem('lngPkg');\r\n    clng = currentlng.replace(/[\"\"\"]/g, '');\r\n\r\n\r\n}\r\nif (by === 'product') {\r\n\r\n\tapi.product(data => {\r\n\t\tdata.lng = Languages.current;\r\n\t\tdata.request = request;\r\n\t\tdocument.getElementById('ulBuyerList').innerHTML = template('tpl', data);\r\n\t});\r\n\r\n}\r\nelse if (by === 'region') {\r\n\tapi.region(data => {\r\n\t\tmakeRegion(data);\r\n\t});\r\n}\r\nelse if (by === 'segment') {\r\n\tapi.segment(data => {\r\n\t\tdata.lng = Languages.current;\r\n\t\tdata.request = request;\r\n\t\tdocument.getElementById('ulBuyerList').innerHTML = template('tpl', data);\r\n\t});\r\n}\r\n\r\n\r\nfunction makeRegion(arr: Array) {\r\n\tlet alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n\tlet list: any = {};\r\n\r\n\tlet data;\r\n\tif (Languages.current === 'en') {\r\n\t\tlet fieldName = 'chau_en';\r\n\t\tdata = array.sort(arr, fieldName, function (a, b) {\r\n\t\t\tlet A = a[fieldName].toUpperCase(), B = b[fieldName].toUpperCase();\r\n\t\t\treturn A === B ? 0 : A > B ? 1 : -1;\r\n\t\t},);\r\n\t\tfor (let i = 0, l = data.length; i < l; i++) {\r\n\t\t\tlet it = data[i], f = it[fieldName].substr(0, 1).toUpperCase();\r\n\t\t\tif (!list[f]) {\r\n\t\t\t\tif (alpha.indexOf(f) === -1)\r\n\t\t\t\t\tf = '#';\r\n\t\t\t\tlist[f] = [];\r\n\t\t\t}\r\n\r\n\t\t\tit.label = it[fieldName];\r\n\t\t\tit.id = it.label;\r\n\t\t\tlist[f].push(it);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tlet fieldName = 'chau_cn';\r\n\t\tdata = array.sort(arr, fieldName, function (a, b) {\r\n\t\t\tlet A = makePy(a[fieldName])[0].toUpperCase(), B = makePy(b[fieldName])[0].toUpperCase();\r\n\t\t\treturn A === B ? 0 : A > B ? 1 : -1;\r\n\t\t},);\r\n\t\tfor (let i = 0, l = data.length; i < l; i++) {\r\n\t\t\tlet it = data[i], f = makePy(it[fieldName])[0].substr(0, 1).toUpperCase();\r\n\r\n\t\t\tif (!list[f]) {\r\n\t\t\t\tif (alpha.indexOf(f) === -1)\r\n\t\t\t\t\tf = '#';\r\n\t\t\t\tlist[f] = [];\r\n\t\t\t}\r\n\t\t\tit.label = it[fieldName];\r\n\t\t\tit.id = it.label;\r\n\t\t\tlist[f].push(it);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tlist.request = request;\r\n\tdocument.getElementById('divBuyerList').innerHTML = template('tpl-regions', list);\r\n}\r\n\r\nfunction isGroup(pd) {\r\n    if(pd.indexOf(\".0\")>-1){\r\n        return 'true';\r\n    }\r\n    else\r\n        return 'false';\r\n}\r\ntemplate.defaults.imports.isGroup=isGroup;\r\n\r\ndocument.getElementById('iptSearch').addEventListener('keypress', function (evt) {\r\n\tif (evt.keyCode === 13 && this.value) {\r\n\t\t//location.href = './exhibitors3.html?by=search' + (request['from']?'&from='+request['from']: '') + '&keyword=' + this.value;\r\n        location.href = './exhibitors1.html?by=search' + (request['from'] ? '&from=' + request['from'] : '') + (request['info'] ? '&info=' + request['info'] : '') + '&keyword=' + this.value;\r\n    }\r\n}, false);\r\n\r\n$(\"#iptSearch\").attr('placeholder',lng.searchtips);\r\n\r\n$('#backurl').attr('href','old_exhibitors1.html');\r\n\r\n"]}